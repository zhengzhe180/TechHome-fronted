{"remainingRequest":"E:\\shixi\\TechHome-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\shixi\\TechHome-master\\src\\views\\flat\\installation\\work-order-inquiry\\zw-site-verification-orders.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\shixi\\TechHome-master\\src\\views\\flat\\installation\\work-order-inquiry\\zw-site-verification-orders.vue","mtime":1770455485000},{"path":"E:\\shixi\\TechHome-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1770598777886},{"path":"E:\\shixi\\TechHome-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1770598779870},{"path":"E:\\shixi\\TechHome-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1770598777886},{"path":"E:\\shixi\\TechHome-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1770598780759}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGZldGNoTGlzdFpodWFuZ1dlaVh1YW5aaGlaaHVhbmdXZWlIZVNoaSwgZXhwb3J0TGlzdFpodWFuZ1dlaVh1YW5aaGlaaHVhbmdXZWlIZVNoaSB9IGZyb20gJ0AvYXBpL2luc3RhbGxhdGlvbicKaW1wb3J0IHdhdmVzIGZyb20gJ0AvZGlyZWN0aXZlL3dhdmVzJyAvLyB3YXZlcyBkaXJlY3RpdmUKaW1wb3J0IFBhZ2luYXRpb24gZnJvbSAnQC9jb21wb25lbnRzL1BhZ2luYXRpb24nIC8vIHNlY29uZGFyeSBwYWNrYWdlIGJhc2VkIG9uIGVsLXBhZ2luYXRpb24KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSW5zdGFsbGF0aW9uQWNjdW11bGF0ZWQnLAogIGNvbXBvbmVudHM6IHsgUGFnaW5hdGlvbiB9LAogIGRpcmVjdGl2ZXM6IHsgd2F2ZXMgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFibGVLZXk6IDAsCiAgICAgIGxpc3Q6IG51bGwsCiAgICAgIHRvdGFsOiAwLAogICAgICBsaXN0TG9hZGluZzogdHJ1ZSwKICAgICAgbGlzdFF1ZXJ5OiB7CiAgICAgICAgcGFnZTogMSwKICAgICAgICBsaW1pdDogNTAsCiAgICAgICAgY291bnR5OiB1bmRlZmluZWQsCiAgICAgICAgeWlkb25nR3JpZDogdW5kZWZpbmVkLAogICAgICAgIGZsb3dObzogdW5kZWZpbmVkLAogICAgICAgIGZsb3dUaXRsZTogdW5kZWZpbmVkLAogICAgICAgIHp3QWNjb3VudDogdW5kZWZpbmVkLAogICAgICAgIGZvcm1TdGF0ZTogdW5kZWZpbmVkLAogICAgICAgIGFjdGl2aXR5aW5zdG5hbWU6IHVuZGVmaW5lZCwKICAgICAgICBzZW5kVGltZTogdW5kZWZpbmVkCiAgICAgIH0sCiAgICAgIGZpbHRlckNvbmZpZzogWwogICAgICAgIHsga2V5OiAnY291bnR5JywgcGxhY2Vob2xkZXI6ICfljLrljr8nLCB0eXBlOiAnaW5wdXQnIH0sCiAgICAgICAgeyBrZXk6ICd5aWRvbmdHcmlkJywgcGxhY2Vob2xkZXI6ICfnvZHmoLwnLCB0eXBlOiAnaW5wdXQnIH0sCiAgICAgICAgeyBrZXk6ICdmbG93Tm8nLCBwbGFjZWhvbGRlcjogJ+W3peWNlee8luWPtycsIHR5cGU6ICdpbnB1dCcgfSwKICAgICAgICB7IGtleTogJ2Zsb3dUaXRsZScsIHBsYWNlaG9sZGVyOiAn5Li76aKYJywgdHlwZTogJ2lucHV0JyB9LAogICAgICAgIHsga2V5OiAnendBY2NvdW50JywgcGxhY2Vob2xkZXI6ICfoo4Xnu7TotKblj7cnLCB0eXBlOiAnaW5wdXQnIH0sCiAgICAgICAgeyBrZXk6ICdmb3JtU3RhdGUnLCBwbGFjZWhvbGRlcjogJ+W3peWNleeKtuaAgScsIHR5cGU6ICdzZWxlY3QnLCBvcHRpb25zOiBbeyBsYWJlbDogJ+i/kOihjOS4rScsIHZhbHVlOiAn6L+Q6KGM5LitJyB9LCB7IGxhYmVsOiAn5bey5b2S5qGjJywgdmFsdWU6ICflt7LlvZLmoaMnIH1dIH0sCiAgICAgICAgeyBrZXk6ICdhY3Rpdml0eWluc3RuYW1lJywgcGxhY2Vob2xkZXI6ICflvZPliY3njq/oioInLCB0eXBlOiAnc2VsZWN0Jywgb3B0aW9uczogW3sgbGFiZWw6ICfoo4Xnu7TmoLjlrp4nLCB2YWx1ZTogJ+ijhee7tOaguOWunicgfSwgeyBsYWJlbDogJ+ijhee7tOmAieWdgCcsIHZhbHVlOiAn6KOF57u06YCJ5Z2AJyB9XSB9LAogICAgICAgIHsga2V5OiAnc2VuZFRpbWUnLCBzdGFydDogJ+a0vuWNleaXtumXtCcsIGVuZDogJ+a0vuWNleaXtumXtCcsIHR5cGU6ICdkYXRlJyB9CiAgICAgIF0sCiAgICAgIHRhYmxlQ29sdW1uczogWwogICAgICAgIHsgcHJvcDogJ2NvdW50eScsIGxhYmVsOiAn5Yy65Y6/Jywgd2lkdGg6ICcxMTAnLCBhbGlnbjogJ2NlbnRlcicgfSwKICAgICAgICB7IHByb3A6ICd5aWRvbmdHcmlkJywgbGFiZWw6ICfnvZHmoLwnLCB3aWR0aDogJzE3MCcsIGFsaWduOiAnY2VudGVyJyB9LAogICAgICAgIHsgcHJvcDogJ2Zsb3dObycsIGxhYmVsOiAn5bel5Y2V57yW5Y+3Jywgd2lkdGg6ICcxNDAnLCBhbGlnbjogJ2NlbnRlcicgfSwKICAgICAgICB7IHByb3A6ICdmbG93VGl0bGUnLCBsYWJlbDogJ+S4u+mimCcsIHdpZHRoOiAnMTYwJywgYWxpZ246ICdjZW50ZXInIH0sCiAgICAgICAgeyBwcm9wOiAnZm9ybVN0YXRlJywgbGFiZWw6ICflt6XljZXnirbmgIEnLCB3aWR0aDogJzEwMCcsIGFsaWduOiAnY2VudGVyJyB9LAogICAgICAgIHsgcHJvcDogJ2FjdGl2aXR5aW5zdG5hbWUnLCBsYWJlbDogJ+W9k+WJjeeOr+iKgicsIHdpZHRoOiAnMTAwJywgYWxpZ246ICdjZW50ZXInIH0sCiAgICAgICAgeyBwcm9wOiAnZmxvd05hbWUnLCBsYWJlbDogJ+W3peWNleWIhuexuycsIHdpZHRoOiAnMTQwJywgYWxpZ246ICdjZW50ZXInIH0sCiAgICAgICAgeyBwcm9wOiAnc2VuZFRpbWUnLCBsYWJlbDogJ+a0vuWNleaXtumXtCcsIHdpZHRoOiAnMTYwJywgYWxpZ246ICdjZW50ZXInIH0sCiAgICAgICAgeyBwcm9wOiAnaW5EZFBvb2xUaW1lJywgbGFiZWw6ICfov5vlhaXlvoXosIPluqbmsaDml7bpl7QnLCB3aWR0aDogJzE2MCcsIGFsaWduOiAnY2VudGVyJyB9LAogICAgICAgIHsgcHJvcDogJ3p3QWNjb3VudCcsIGxhYmVsOiAn6KOF57u06LSm5Y+3Jywgd2lkdGg6ICcxNjAnLCBhbGlnbjogJ2NlbnRlcicgfSwKICAgICAgICB7IHByb3A6ICd0ZWNobmljaWFuTmFtZScsIGxhYmVsOiAn6KOF57u05aeT5ZCNJywgd2lkdGg6ICcxNjAnLCBhbGlnbjogJ2NlbnRlcicgfSwKICAgICAgICB7IHByb3A6ICd0ZWNobmljaWFuUGhvbmUnLCBsYWJlbDogJ+ijhee7tOeUteivnScsIHdpZHRoOiAnMTYwJywgYWxpZ246ICdjZW50ZXInIH0KICAgICAgXQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIC8vIENoZWNrIGZvciBjcm9zcy1wYWdlIHNlYXJjaCBmaWx0ZXJzIGluIFZ1ZXgKICAgIGNvbnN0IGluaXRpYWxGaWx0ZXJzID0gdGhpcy4kc3RvcmUuc3RhdGUuY3Jvc3NQYWdlU2VhcmNoLmluaXRpYWxGaWx0ZXJzCiAgICBpZiAoaW5pdGlhbEZpbHRlcnMpIHsKICAgICAgLy8gTWVyZ2UgdGhlIGZpbHRlcnMgaW50byB0aGUgbG9jYWwgcXVlcnkgb2JqZWN0CiAgICAgIHRoaXMubGlzdFF1ZXJ5ID0geyAuLi50aGlzLmxpc3RRdWVyeSwgLi4uaW5pdGlhbEZpbHRlcnMgfQogICAgICAvLyBDbGVhciB0aGUgZmlsdGVycyBpbiBWdWV4IHNvIHRoZXkgYXJlIG5vdCB1c2VkIGFnYWluCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY3Jvc3NQYWdlU2VhcmNoL0NMRUFSX0lOSVRJQUxfRklMVEVSUycpCiAgICB9CiAgICB0aGlzLmdldExpc3QoKQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0TGlzdCgpIHsKICAgICAgdGhpcy5saXN0TG9hZGluZyA9IHRydWUKICAgICAgZmV0Y2hMaXN0Wmh1YW5nV2VpWHVhblpoaVpodWFuZ1dlaUhlU2hpKHRoaXMubGlzdFF1ZXJ5KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLmxpc3QgPSByZXNwb25zZS5kYXRhLml0ZW1zCiAgICAgICAgdGhpcy50b3RhbCA9IHJlc3BvbnNlLmRhdGEudG90YWwKICAgICAgICB0aGlzLmxpc3RMb2FkaW5nID0gZmFsc2UKICAgICAgfSkKICAgIH0sCiAgICBoYW5kbGVGaWx0ZXIoKSB7CiAgICAgIHRoaXMubGlzdFF1ZXJ5LnBhZ2UgPSAxCiAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICB9LAogICAgYXN5bmMgaGFuZGxlRG93bmxvYWQoKSB7CiAgICAgIGNvbnN0IHsgc2VuZFRpbWUgfSA9IHRoaXMubGlzdFF1ZXJ5CiAgICAgIGlmICghc2VuZFRpbWUpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCflv4XpobvpgInmi6nmtL7ljZXml7bpl7QnKQogICAgICAgIHJldHVybgogICAgICB9CgogICAgICBjb25zdCBzdGFydERhdGUgPSBuZXcgRGF0ZShzZW5kVGltZVswXSkKICAgICAgY29uc3QgZW5kRGF0ZSA9IG5ldyBEYXRlKHNlbmRUaW1lWzFdKQogICAgICBjb25zdCB0aW1lRGlmZiA9IGVuZERhdGUuZ2V0VGltZSgpIC0gc3RhcnREYXRlLmdldFRpbWUoKQogICAgICBjb25zdCBkYXlEaWZmID0gdGltZURpZmYgLyAoMTAwMCAqIDM2MDAgKiAyNCkKCiAgICAgIGlmIChkYXlEaWZmID4gNDApIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCflr7zlh7pFeGNlbOaXtu+8jOacn+acmybmnIDlkI7pooTnuqbml7bpl7TmnIDlpKfot6jluqbkuLo0MOWkqScpCiAgICAgICAgcmV0dXJuCiAgICAgIH0KCiAgICAgIHRoaXMuZG93bmxvYWRMb2FkaW5nID0gdHJ1ZQogICAgICB0cnkgewogICAgICAgIGNvbnN0IHF1ZXJ5Rm9yQWxsID0geyAuLi50aGlzLmxpc3RRdWVyeSB9CiAgICAgICAgZGVsZXRlIHF1ZXJ5Rm9yQWxsLnBhZ2UKICAgICAgICBkZWxldGUgcXVlcnlGb3JBbGwubGltaXQKCiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBleHBvcnRMaXN0Wmh1YW5nV2VpWHVhblpoaVpodWFuZ1dlaUhlU2hpKHF1ZXJ5Rm9yQWxsKQogICAgICAgIGNvbnN0IGFsbERhdGEgPSByZXNwb25zZS5kYXRhCgogICAgICAgIGlmICghYWxsRGF0YSB8fCBhbGxEYXRhLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfmsqHmnInlj6/lr7zlh7rnmoTmlbDmja4nKQogICAgICAgICAgcmV0dXJuIC8vIEV4aXQgaWYgdGhlcmUncyBubyBkYXRhIHRvIGV4cG9ydAogICAgICAgIH0KCiAgICAgICAgaW1wb3J0KCdAL3ZlbmRvci9FeHBvcnQyRXhjZWwnKS50aGVuKGV4Y2VsID0+IHsKICAgICAgICAgIGNvbnN0IHRIZWFkZXIgPSBbJ+WMuuWOvycsICfnvZHmoLwnLCAn5bel5Y2V57yW5Y+3JywgJ+S4u+mimCcsICflt6XljZXnirbmgIEnLCAn5b2T5YmN546v6IqCJywgJ+W3peWNleWIhuexuycsICfmtL7ljZXml7bpl7QnLCAn6L+b5YWl5b6F6LCD5bqm5rGg5pe26Ze0JywgJ+ijhee7tOi0puWPtycsICfoo4Xnu7Tlp5PlkI0nLCAn6KOF57u055S16K+dJ10KICAgICAgICAgIGNvbnN0IGZpbHRlclZhbCA9IFsnY291bnR5JywgJ3lpZG9uZ0dyaWQnLCAnZmxvd05vJywgJ2Zsb3dUaXRsZScsICdmb3JtU3RhdGUnLCAnYWN0aXZpdHlpbnN0bmFtZScsICdmbG93TmFtZScsICdzZW5kVGltZScsICdpbkRkUG9vbFRpbWUnLCAnendBY2NvdW50JywgJ3RlY2huaWNpYW5OYW1lJywgJ3RlY2huaWNpYW5QaG9uZSddCiAgICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5mb3JtYXRKc29uKGZpbHRlclZhbCwgYWxsRGF0YSkKICAgICAgICAgIGV4Y2VsLmV4cG9ydF9qc29uX3RvX2V4Y2VsKHsKICAgICAgICAgICAgaGVhZGVyOiB0SGVhZGVyLAogICAgICAgICAgICBkYXRhLAogICAgICAgICAgICBmaWxlbmFtZTogYOaJi+WGmeWIpOaWrS/nuqLpu4TljZUtJHtuZXcgRGF0ZSgpLnRvTG9jYWxlU3RyaW5nKCl9YCwKICAgICAgICAgICAgYXV0b1dpZHRoOiB0cnVlLAogICAgICAgICAgICBib29rVHlwZTogJ3hsc3gnCiAgICAgICAgICB9KQogICAgICAgIH0pCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign5a+85Ye6RXhjZWzml7blj5HnlJ/plJnor686JywgZXJyb3IpCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5a+85Ye65aSx6LSl77yM6K+356iN5ZCO6YeN6K+VJykKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICB0aGlzLmRvd25sb2FkTG9hZGluZyA9IGZhbHNlCiAgICAgIH0KICAgIH0sCiAgICBmb3JtYXRKc29uKGZpbHRlclZhbCwganNvbkRhdGEpIHsKICAgICAgcmV0dXJuIGpzb25EYXRhLm1hcCh2ID0+IGZpbHRlclZhbC5tYXAoaiA9PiB7CiAgICAgICAgcmV0dXJuIHZbal0KICAgICAgfSkpCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["zw-site-verification-orders.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiFA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"zw-site-verification-orders.vue","sourceRoot":"src/views/flat/installation/work-order-inquiry","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <div class=\"filter-container\">\n      <template v-for=\"item in filterConfig\">\n        <el-input\n          v-if=\"item.type === 'input'\"\n          :key=\"item.key\"\n          v-model=\"listQuery[item.key]\"\n          :placeholder=\"item.placeholder\"\n          style=\"width: 120px; margin-right: 8px;\"\n          clearable\n          class=\"filter-item\"\n        />\n        <el-date-picker\n          v-else-if=\"item.type === 'date'\"\n          :key=\"item.key\"\n          v-model=\"listQuery[item.key]\"\n          type=\"datetimerange\"\n          value-format=\"yyyy-MM-dd HH:mm:ss\"\n          range-separator=\"至\"\n          :start-placeholder=\"item.start\"\n          :end-placeholder=\"item.end\"\n          class=\"filter-item\"\n          style=\"margin-right: 8px;\"\n          clearable\n        />\n        <el-select\n          v-else-if=\"item.type === 'select'\"\n          :key=\"item.key\"\n          v-model=\"listQuery[item.key]\"\n          :placeholder=\"item.placeholder\"\n          clearable\n          class=\"filter-item\"\n          style=\"width: 130px; margin-right: 8px;\"\n        >\n          <el-option\n            v-for=\"option in item.options\"\n            :key=\"option.value\"\n            :label=\"option.label\"\n            :value=\"option.value\"\n          />\n        </el-select>\n      </template>\n      <el-button v-waves class=\"filter-item\" type=\"primary\" icon=\"el-icon-search\" @click=\"handleFilter\">\n        搜索\n      </el-button>\n      <el-button :loading=\"downloadLoading\" class=\"filter-item\" type=\"primary\" icon=\"el-icon-document\" @click=\"handleDownload\">\n        导出 Excel\n      </el-button>\n    </div>\n\n    <el-table\n      :key=\"tableKey\"\n      v-loading=\"listLoading\"\n      :data=\"list\"\n      border\n      fit\n      highlight-current-row\n      style=\"width: 100%;\"\n    >\n      <el-table-column\n        v-for=\"col in tableColumns\"\n        :key=\"col.prop\"\n        :prop=\"col.prop\"\n        :label=\"col.label\"\n        :width=\"col.width\"\n        :min-width=\"col.minWidth\"\n        :align=\"col.align\"\n      >\n        <template slot-scope=\"{row}\">\n          <span>{{ row[col.prop] }}</span>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <pagination v-show=\"total>0\" :total=\"total\" :page.sync=\"listQuery.page\" :limit.sync=\"listQuery.limit\" @pagination=\"getList\" />\n\n  </div>\n</template>\n\n<script>\nimport { fetchListZhuangWeiXuanZhiZhuangWeiHeShi, exportListZhuangWeiXuanZhiZhuangWeiHeShi } from '@/api/installation'\nimport waves from '@/directive/waves' // waves directive\nimport Pagination from '@/components/Pagination' // secondary package based on el-pagination\n\nexport default {\n  name: 'InstallationAccumulated',\n  components: { Pagination },\n  directives: { waves },\n  data() {\n    return {\n      tableKey: 0,\n      list: null,\n      total: 0,\n      listLoading: true,\n      listQuery: {\n        page: 1,\n        limit: 50,\n        county: undefined,\n        yidongGrid: undefined,\n        flowNo: undefined,\n        flowTitle: undefined,\n        zwAccount: undefined,\n        formState: undefined,\n        activityinstname: undefined,\n        sendTime: undefined\n      },\n      filterConfig: [\n        { key: 'county', placeholder: '区县', type: 'input' },\n        { key: 'yidongGrid', placeholder: '网格', type: 'input' },\n        { key: 'flowNo', placeholder: '工单编号', type: 'input' },\n        { key: 'flowTitle', placeholder: '主题', type: 'input' },\n        { key: 'zwAccount', placeholder: '装维账号', type: 'input' },\n        { key: 'formState', placeholder: '工单状态', type: 'select', options: [{ label: '运行中', value: '运行中' }, { label: '已归档', value: '已归档' }] },\n        { key: 'activityinstname', placeholder: '当前环节', type: 'select', options: [{ label: '装维核实', value: '装维核实' }, { label: '装维选址', value: '装维选址' }] },\n        { key: 'sendTime', start: '派单时间', end: '派单时间', type: 'date' }\n      ],\n      tableColumns: [\n        { prop: 'county', label: '区县', width: '110', align: 'center' },\n        { prop: 'yidongGrid', label: '网格', width: '170', align: 'center' },\n        { prop: 'flowNo', label: '工单编号', width: '140', align: 'center' },\n        { prop: 'flowTitle', label: '主题', width: '160', align: 'center' },\n        { prop: 'formState', label: '工单状态', width: '100', align: 'center' },\n        { prop: 'activityinstname', label: '当前环节', width: '100', align: 'center' },\n        { prop: 'flowName', label: '工单分类', width: '140', align: 'center' },\n        { prop: 'sendTime', label: '派单时间', width: '160', align: 'center' },\n        { prop: 'inDdPoolTime', label: '进入待调度池时间', width: '160', align: 'center' },\n        { prop: 'zwAccount', label: '装维账号', width: '160', align: 'center' },\n        { prop: 'technicianName', label: '装维姓名', width: '160', align: 'center' },\n        { prop: 'technicianPhone', label: '装维电话', width: '160', align: 'center' }\n      ]\n    }\n  },\n  created() {\n    // Check for cross-page search filters in Vuex\n    const initialFilters = this.$store.state.crossPageSearch.initialFilters\n    if (initialFilters) {\n      // Merge the filters into the local query object\n      this.listQuery = { ...this.listQuery, ...initialFilters }\n      // Clear the filters in Vuex so they are not used again\n      this.$store.commit('crossPageSearch/CLEAR_INITIAL_FILTERS')\n    }\n    this.getList()\n  },\n  methods: {\n    getList() {\n      this.listLoading = true\n      fetchListZhuangWeiXuanZhiZhuangWeiHeShi(this.listQuery).then(response => {\n        this.list = response.data.items\n        this.total = response.data.total\n        this.listLoading = false\n      })\n    },\n    handleFilter() {\n      this.listQuery.page = 1\n      this.getList()\n    },\n    async handleDownload() {\n      const { sendTime } = this.listQuery\n      if (!sendTime) {\n        this.$message.error('必须选择派单时间')\n        return\n      }\n\n      const startDate = new Date(sendTime[0])\n      const endDate = new Date(sendTime[1])\n      const timeDiff = endDate.getTime() - startDate.getTime()\n      const dayDiff = timeDiff / (1000 * 3600 * 24)\n\n      if (dayDiff > 40) {\n        this.$message.error('导出Excel时，期望&最后预约时间最大跨度为40天')\n        return\n      }\n\n      this.downloadLoading = true\n      try {\n        const queryForAll = { ...this.listQuery }\n        delete queryForAll.page\n        delete queryForAll.limit\n\n        const response = await exportListZhuangWeiXuanZhiZhuangWeiHeShi(queryForAll)\n        const allData = response.data\n\n        if (!allData || allData.length === 0) {\n          this.$message.warning('没有可导出的数据')\n          return // Exit if there's no data to export\n        }\n\n        import('@/vendor/Export2Excel').then(excel => {\n          const tHeader = ['区县', '网格', '工单编号', '主题', '工单状态', '当前环节', '工单分类', '派单时间', '进入待调度池时间', '装维账号', '装维姓名', '装维电话']\n          const filterVal = ['county', 'yidongGrid', 'flowNo', 'flowTitle', 'formState', 'activityinstname', 'flowName', 'sendTime', 'inDdPoolTime', 'zwAccount', 'technicianName', 'technicianPhone']\n          const data = this.formatJson(filterVal, allData)\n          excel.export_json_to_excel({\n            header: tHeader,\n            data,\n            filename: `手写判断/红黄单-${new Date().toLocaleString()}`,\n            autoWidth: true,\n            bookType: 'xlsx'\n          })\n        })\n      } catch (error) {\n        console.error('导出Excel时发生错误:', error)\n        this.$message.error('导出失败，请稍后重试')\n      } finally {\n        this.downloadLoading = false\n      }\n    },\n    formatJson(filterVal, jsonData) {\n      return jsonData.map(v => filterVal.map(j => {\n        return v[j]\n      }))\n    }\n  }\n}\n</script>\n"]}]}