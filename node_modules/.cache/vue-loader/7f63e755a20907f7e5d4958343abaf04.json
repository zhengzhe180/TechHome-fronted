{"remainingRequest":"E:\\shixi\\TechHome-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\shixi\\TechHome-master\\src\\views\\flat\\installation\\bigScreen\\grid\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\shixi\\TechHome-master\\src\\views\\flat\\installation\\bigScreen\\grid\\index.vue","mtime":1770455485000},{"path":"E:\\shixi\\TechHome-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1770598777886},{"path":"E:\\shixi\\TechHome-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1770598779870},{"path":"E:\\shixi\\TechHome-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1770598777886},{"path":"E:\\shixi\\TechHome-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1770598780759}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldEluc3RhbGxhdGlvbkdyaWQgfSBmcm9tICdAL2FwaS9mbGF0JwppbXBvcnQgeyBwYXJzZVRpbWUgfSBmcm9tICdAL3V0aWxzJwoKY29uc3QgY29sdW1uT3JkZXIgPSBbCiAgJ+e9keagvCcsCiAgJ+W9k+aXpeW6lOijhSjntK/orqEpJywKICAn5b2T5pel5a6e6KOFKOe0r+iuoSknLAogICflvZPml6Xoo4XmnLrnjoco57Sv6K6hKScsCiAgJ+W9k+aXpeW6lOijhSjmuIXpm7YpJywKICAn5b2T5pel5a6e6KOFKOa4hembtiknLAogICflvZPml6XmnKroo4Uo5riF6Zu2KScsCiAgJ+W9k+aXpeacquijheWNoOavlCjmuIXpm7YpJywKICAn5YKs6KOF5bel5Y2VKOacquW9kuahoyknLAogICfoo4Xnu7TpgInlnYAnLAogICfoo4Xnu7TmoLjlrp4nLAogICflvZPml6XlupToo4Uo57Sv6K6hKS1GVFRSJywKICAn5b2T5pel5a6e6KOFKOe0r+iuoSktRlRUUicsCiAgJ+W9k+aXpeijheacuueOhyjntK/orqEpLUZUVFInLAogICflvZPml6XlupToo4Uo5riF6Zu2KS1GVFRSJywKICAn5b2T5pel5a6e6KOFKOa4hembtiktRlRUUicsCiAgJ+W9k+aXpeacquijhSjmuIXpm7YpLUZUVFInLAogICflvZPml6XmnKroo4XljaDmr5Qo5riF6Zu2KS1GVFRSJywKICAn5YKs6KOF5bel5Y2VKOacquW9kuahoyktRlRUUicKXQoKY29uc3QgY29sdW1uUHJlc2V0cyA9IHsKICAn572R5qC8JzogeyB3aWR0aDogMjAwLCBhbGlnbjogJ2xlZnQnLCBzaG93T3ZlcmZsb3dUb29sdGlwOiB0cnVlIH0sCiAgJ+W9k+aXpeW6lOijhSjntK/orqEpJzogeyB3aWR0aDogOTAgfSwKICAn5b2T5pel5a6e6KOFKOe0r+iuoSknOiB7IHdpZHRoOiA5MCB9LAogICflvZPml6Xoo4XmnLrnjoco57Sv6K6hKSc6IHsgd2lkdGg6IDEwMCB9LAogICflvZPml6XlupToo4Uo5riF6Zu2KSc6IHsgd2lkdGg6IDkwIH0sCiAgJ+W9k+aXpeWunuijhSjmuIXpm7YpJzogeyB3aWR0aDogOTAgfSwKICAn5b2T5pel5pyq6KOFKOa4hembtiknOiB7IHdpZHRoOiA5MCB9LAogICflvZPml6XmnKroo4XljaDmr5Qo5riF6Zu2KSc6IHsgd2lkdGg6IDExMCB9LAogICflgqzoo4Xlt6XljZUo5pyq5b2S5qGjKSc6IHsgd2lkdGg6IDkwIH0sCiAgJ+ijhee7tOmAieWdgCc6IHsgd2lkdGg6IDkwIH0sCiAgJ+ijhee7tOaguOWunic6IHsgd2lkdGg6IDkwIH0sCiAgJ+W9k+aXpeW6lOijhSjntK/orqEpLUZUVFInOiB7IHdpZHRoOiAxMjAgfSwKICAn5b2T5pel5a6e6KOFKOe0r+iuoSktRlRUUic6IHsgd2lkdGg6IDEyMCB9LAogICflvZPml6Xoo4XmnLrnjoco57Sv6K6hKS1GVFRSJzogeyB3aWR0aDogMTQwIH0sCiAgJ+W9k+aXpeW6lOijhSjmuIXpm7YpLUZUVFInOiB7IHdpZHRoOiAxMjAgfSwKICAn5b2T5pel5a6e6KOFKOa4hembtiktRlRUUic6IHsgd2lkdGg6IDEyMCB9LAogICflvZPml6XmnKroo4Uo5riF6Zu2KS1GVFRSJzogeyB3aWR0aDogMTIwIH0sCiAgJ+W9k+aXpeacquijheWNoOavlCjmuIXpm7YpLUZUVFInOiB7IHdpZHRoOiAxNTAgfSwKICAn5YKs6KOF5bel5Y2VKOacquW9kuahoyktRlRUUic6IHsgd2lkdGg6IDE0MCB9Cn0KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSW5zdGFsbGF0aW9uR3JpZFRhYmxlJywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGlzdDogW10sCiAgICAgIHRvdGFsOiAwLCAvLyDoi6XlkK/nlKjliIbpobXlj6/nlKgKICAgICAgbGlzdExvYWRpbmc6IGZhbHNlLAogICAgICBjb2x1bW5zOiBbXSwKICAgICAgbGlzdFF1ZXJ5OiB7CiAgICAgICAgZ3JpZDogJycgLy8g572R5qC85YWz6ZSu6K+NCiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmZldGNoRGF0YSgpCiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBmZXRjaERhdGEoKSB7CiAgICAgIHRoaXMubGlzdExvYWRpbmcgPSB0cnVlCiAgICAgIHRyeSB7CiAgICAgICAgLy8g5Y+q6LWw5ZCO56uv562b6YCJ77ya5oqK5b2T5YmN5p+l6K+i5p2h5Lu25Lyg57uZ5ZCO56uvCiAgICAgICAgY29uc3QgcGFyYW1zID0ge30KICAgICAgICBpZiAodGhpcy5saXN0UXVlcnkuZ3JpZCAmJiB0aGlzLmxpc3RRdWVyeS5ncmlkLnRyaW0oKSkgewogICAgICAgICAgcGFyYW1zLmdyaWQgPSB0aGlzLmxpc3RRdWVyeS5ncmlkLnRyaW0oKQogICAgICAgIH0KCiAgICAgICAgY29uc3QgcmVzcCA9IGF3YWl0IGdldEluc3RhbGxhdGlvbkdyaWQocGFyYW1zKQogICAgICAgIGNvbnN0IHBheWxvYWQgPSByZXNwICYmIHJlc3AuZGF0YSA/IHJlc3AuZGF0YSA6IFtdCgogICAgICAgIC8vIOWFvOWuueS4pOenjei/lOWbnu+8mjEpIHsgaXRlbXMsIHRvdGFsIH0gMikg5pWw57uECiAgICAgICAgbGV0IHJvd3MgPSBbXQogICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBheWxvYWQ/Lml0ZW1zKSkgewogICAgICAgICAgcm93cyA9IHBheWxvYWQuaXRlbXMKICAgICAgICAgIHRoaXMudG90YWwgPSBOdW1iZXIocGF5bG9hZC50b3RhbCB8fCBwYXlsb2FkLml0ZW1zLmxlbmd0aCkgfHwgMAogICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShwYXlsb2FkKSkgewogICAgICAgICAgcm93cyA9IHBheWxvYWQKICAgICAgICAgIHRoaXMudG90YWwgPSByb3dzLmxlbmd0aAogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByb3dzID0gW10KICAgICAgICAgIHRoaXMudG90YWwgPSAwCiAgICAgICAgfQogICAgICAgIHRoaXMubGlzdCA9IHJvd3MKCiAgICAgICAgLy8g5Yqo5oCB5YiXCiAgICAgICAgaWYgKCF0aGlzLmxpc3QubGVuZ3RoKSB7CiAgICAgICAgICB0aGlzLmNvbHVtbnMgPSBbXQogICAgICAgICAgcmV0dXJuCiAgICAgICAgfQogICAgICAgIGNvbnN0IGtleVNldCA9IG5ldyBTZXQoKQogICAgICAgIHRoaXMubGlzdC5mb3JFYWNoKHJvdyA9PiBPYmplY3Qua2V5cyhyb3cgfHwge30pLmZvckVhY2goayA9PiBrZXlTZXQuYWRkKGspKSkKICAgICAgICB0aGlzLmNvbHVtbnMgPSBjb2x1bW5PcmRlcgogICAgICAgICAgLmZpbHRlcihrZXkgPT4ga2V5U2V0LmhhcyhrZXkpKQogICAgICAgICAgLm1hcChrZXkgPT4gKHsKICAgICAgICAgICAgcHJvcDoga2V5LAogICAgICAgICAgICBsYWJlbDoga2V5LAogICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgICAgIHNob3dPdmVyZmxvd1Rvb2x0aXA6IHRydWUsCiAgICAgICAgICAgIC4uLihjb2x1bW5QcmVzZXRzW2tleV0gfHwge30pCiAgICAgICAgICB9KSkKICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZT8uZXJyb3IoJ+iOt+WPlue9keagvOaVsOaNruWksei0pe+8micgKyAoZXJyLm1lc3NhZ2UgfHwgJ+acquefpemUmeivrycpKQogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKQogICAgICB9IGZpbmFsbHkgewogICAgICAgIHRoaXMubGlzdExvYWRpbmcgPSBmYWxzZQogICAgICB9CiAgICB9LAogICAgaGFuZGxlRmlsdGVyKCkgewogICAgICAvLyDkuI7npLrkvovpo47moLzkuIDoh7TvvJrph43nva7liLDnrKwgMSDpobXlubblj5HotbflkI7nq6/mn6Xor6IKICAgICAgdGhpcy5saXN0UXVlcnkucGFnZSA9IDEKICAgICAgdGhpcy5mZXRjaERhdGEoKQogICAgfSwKICAgIGhhbmRsZU5hdmlnYXRlRGFuZ1JpWWluZ1podWFuZ0xlaUppKHJvdykgewogICAgICBjb25zdCBzdGFydFRpbWUgPSBwYXJzZVRpbWUobmV3IERhdGUoKS5zZXRIb3VycygwLCAwLCAwLCAwKSwgJ3t5fS17bX0te2R9IHtofTp7aX06e3N9JykKICAgICAgY29uc3QgZW5kVGltZSA9IHBhcnNlVGltZShuZXcgRGF0ZShuZXcgRGF0ZSgpLmdldFRpbWUoKSArIDI0ICogNjAgKiA2MCAqIDEwMDApLnNldEhvdXJzKDAsIDAsIDAsIDApLCAne3l9LXttfS17ZH0ge2h9OntpfTp7c30nKQogICAgICBjb25zdCBmaWx0ZXJzID0gewogICAgICAgIGdyaWRfbmFtZTogcm93WyfnvZHmoLwnXSwKICAgICAgICBmb3JtX3R5cGVfY3VzdG9tOiAnbm90X2Z0dHInLAogICAgICAgIGN1cnJlbnRfZGF0ZV9jdXN0b206IFtzdGFydFRpbWUsIGVuZFRpbWVdCiAgICAgIH0KICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdjcm9zc1BhZ2VTZWFyY2gvU0VUX0lOSVRJQUxfRklMVEVSUycsIGZpbHRlcnMpCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogJy9mbGF0L2luc3RhbGxhdGlvbi93b3JrLW9yZGVyLWlucXVpcnkvYWNjdW11bGF0ZWQnIH0pCiAgICB9LAogICAgaGFuZGxlTmF2aWdhdGVEYW5nUmlZaW5nWmh1YW5nTGVpSmlGVFRSKHJvdykgewogICAgICBjb25zdCBzdGFydFRpbWUgPSBwYXJzZVRpbWUobmV3IERhdGUoKS5zZXRIb3VycygwLCAwLCAwLCAwKSwgJ3t5fS17bX0te2R9IHtofTp7aX06e3N9JykKICAgICAgY29uc3QgZW5kVGltZSA9IHBhcnNlVGltZShuZXcgRGF0ZShuZXcgRGF0ZSgpLmdldFRpbWUoKSArIDI0ICogNjAgKiA2MCAqIDEwMDApLnNldEhvdXJzKDAsIDAsIDAsIDApLCAne3l9LXttfS17ZH0ge2h9OntpfTp7c30nKQogICAgICBjb25zdCBmaWx0ZXJzID0gewogICAgICAgIGdyaWRfbmFtZTogcm93WyfnvZHmoLwnXSwKICAgICAgICBmb3JtX3R5cGVfY3VzdG9tOiAnZnR0cicsCiAgICAgICAgY3VycmVudF9kYXRlX2N1c3RvbTogW3N0YXJ0VGltZSwgZW5kVGltZV0KICAgICAgfQogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2Nyb3NzUGFnZVNlYXJjaC9TRVRfSU5JVElBTF9GSUxURVJTJywgZmlsdGVycykKICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAnL2ZsYXQvaW5zdGFsbGF0aW9uL3dvcmstb3JkZXItaW5xdWlyeS9hY2N1bXVsYXRlZCcgfSkKICAgIH0sCiAgICBoYW5kbGVOYXZpZ2F0ZURhbmdSaVlpbmdaaHVhbmdRaW5nTGluZyhyb3cpIHsKICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGFyc2VUaW1lKG5ldyBEYXRlKCkuc2V0SG91cnMoMCwgMCwgMCwgMCksICd7eX0te219LXtkfSB7aH06e2l9OntzfScpCiAgICAgIGNvbnN0IGVuZFRpbWUgPSBwYXJzZVRpbWUobmV3IERhdGUobmV3IERhdGUoKS5nZXRUaW1lKCkgKyAyNCAqIDYwICogNjAgKiAxMDAwKS5zZXRIb3VycygwLCAwLCAwLCAwKSwgJ3t5fS17bX0te2R9IHtofTp7aX06e3N9JykKICAgICAgY29uc3QgZmlsdGVycyA9IHsKICAgICAgICBncmlkX25hbWU6IHJvd1sn572R5qC8J10sCiAgICAgICAgZm9ybV90eXBlX2N1c3RvbTogJ25vdF9mdHRyJywKICAgICAgICBjdXJyZW50X2RhdGVfY3VzdG9tOiBbc3RhcnRUaW1lLCBlbmRUaW1lXQogICAgICB9CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY3Jvc3NQYWdlU2VhcmNoL1NFVF9JTklUSUFMX0ZJTFRFUlMnLCBmaWx0ZXJzKQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICcvZmxhdC9pbnN0YWxsYXRpb24vd29yay1vcmRlci1pbnF1aXJ5L2NsZWFyZWQnIH0pCiAgICB9LAogICAgaGFuZGxlTmF2aWdhdGVEYW5nUmlZaW5nWmh1YW5nUWluZ0xpbmdGVFRSKHJvdykgewogICAgICBjb25zdCBzdGFydFRpbWUgPSBwYXJzZVRpbWUobmV3IERhdGUoKS5zZXRIb3VycygwLCAwLCAwLCAwKSwgJ3t5fS17bX0te2R9IHtofTp7aX06e3N9JykKICAgICAgY29uc3QgZW5kVGltZSA9IHBhcnNlVGltZShuZXcgRGF0ZShuZXcgRGF0ZSgpLmdldFRpbWUoKSArIDI0ICogNjAgKiA2MCAqIDEwMDApLnNldEhvdXJzKDAsIDAsIDAsIDApLCAne3l9LXttfS17ZH0ge2h9OntpfTp7c30nKQogICAgICBjb25zdCBmaWx0ZXJzID0gewogICAgICAgIGdyaWRfbmFtZTogcm93WyfnvZHmoLwnXSwKICAgICAgICBmb3JtX3R5cGVfY3VzdG9tOiAnZnR0cicsCiAgICAgICAgY3VycmVudF9kYXRlX2N1c3RvbTogW3N0YXJ0VGltZSwgZW5kVGltZV0KICAgICAgfQogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2Nyb3NzUGFnZVNlYXJjaC9TRVRfSU5JVElBTF9GSUxURVJTJywgZmlsdGVycykKICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAnL2ZsYXQvaW5zdGFsbGF0aW9uL3dvcmstb3JkZXItaW5xdWlyeS9jbGVhcmVkJyB9KQogICAgfSwKICAgIGhhbmRsZU5hdmlnYXRlQ3VpWmh1YW5nR29uZ0RhbldlaUd1aURhbmcocm93KSB7CiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBhcnNlVGltZShuZXcgRGF0ZSgpLnNldEhvdXJzKDAsIDAsIDAsIDApLCAne3l9LXttfS17ZH0ge2h9OntpfTp7c30nKQogICAgICBjb25zdCBlbmRUaW1lID0gcGFyc2VUaW1lKG5ldyBEYXRlKG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgMjQgKiA2MCAqIDYwICogMTAwMCkuc2V0SG91cnMoMCwgMCwgMCwgMCksICd7eX0te219LXtkfSB7aH06e2l9OntzfScpCiAgICAgIGNvbnN0IGZpbHRlcnMgPSB7CiAgICAgICAgeWlkb25nX2dyaWQ6IHJvd1sn572R5qC8J10sCiAgICAgICAgZm9ybV90eXBlX2N1c3RvbTogJ25vdF9mdHRyJywKICAgICAgICBjdXJyZW50X2RhdGVfY3VzdG9tOiBbc3RhcnRUaW1lLCBlbmRUaW1lXQogICAgICB9CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY3Jvc3NQYWdlU2VhcmNoL1NFVF9JTklUSUFMX0ZJTFRFUlMnLCBmaWx0ZXJzKQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICcvZmxhdC9pbnN0YWxsYXRpb24vd29yay1vcmRlci1pbnF1aXJ5L3VyZ2VudCcgfSkKICAgIH0sCiAgICBoYW5kbGVOYXZpZ2F0ZUN1aVpodWFuZ0dvbmdEYW5XZWlHdWlEYW5nRlRUUihyb3cpIHsKICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGFyc2VUaW1lKG5ldyBEYXRlKCkuc2V0SG91cnMoMCwgMCwgMCwgMCksICd7eX0te219LXtkfSB7aH06e2l9OntzfScpCiAgICAgIGNvbnN0IGVuZFRpbWUgPSBwYXJzZVRpbWUobmV3IERhdGUobmV3IERhdGUoKS5nZXRUaW1lKCkgKyAyNCAqIDYwICogNjAgKiAxMDAwKS5zZXRIb3VycygwLCAwLCAwLCAwKSwgJ3t5fS17bX0te2R9IHtofTp7aX06e3N9JykKICAgICAgY29uc3QgZmlsdGVycyA9IHsKICAgICAgICB5aWRvbmdfZ3JpZDogcm93WyfnvZHmoLwnXSwKICAgICAgICBmb3JtX3R5cGVfY3VzdG9tOiAnZnR0cicsCiAgICAgICAgY3VycmVudF9kYXRlX2N1c3RvbTogW3N0YXJ0VGltZSwgZW5kVGltZV0KICAgICAgfQogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2Nyb3NzUGFnZVNlYXJjaC9TRVRfSU5JVElBTF9GSUxURVJTJywgZmlsdGVycykKICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAnL2ZsYXQvaW5zdGFsbGF0aW9uL3dvcmstb3JkZXItaW5xdWlyeS91cmdlbnQnIH0pCiAgICB9LAogICAgaGFuZGxlTmF2aWdhdGVUZWNobmljaWFuU2l0ZShyb3cpIHsKICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGFyc2VUaW1lKG5ldyBEYXRlKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKS5zZXRIb3VycygwLCAwLCAwLCAwKSwgJ3t5fS17bX0te2R9IHtofTp7aX06e3N9JykKICAgICAgY29uc3QgZW5kVGltZSA9IHBhcnNlVGltZShuZXcgRGF0ZShuZXcgRGF0ZSgpLmdldFRpbWUoKSArIDI0ICogNjAgKiA2MCAqIDEwMDApLnNldEhvdXJzKDAsIDAsIDAsIDApLCAne3l9LXttfS17ZH0ge2h9OntpfTp7c30nKQogICAgICBjb25zdCBmaWx0ZXJzID0gewogICAgICAgIHlpZG9uZ0dyaWQ6IHJvd1sn572R5qC8J10sCiAgICAgICAgYWN0aXZpdHlpbnN0bmFtZTogJ+ijhee7tOmAieWdgCcsCiAgICAgICAgc2VuZFRpbWU6IFtzdGFydFRpbWUsIGVuZFRpbWVdCiAgICAgIH0KICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdjcm9zc1BhZ2VTZWFyY2gvU0VUX0lOSVRJQUxfRklMVEVSUycsIGZpbHRlcnMpCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogJy9mbGF0L2luc3RhbGxhdGlvbi93b3JrLW9yZGVyLWlucXVpcnkvc2l0ZS12ZXJpZmljYXRpb24nIH0pCiAgICB9LAogICAgaGFuZGxlTmF2aWdhdGVUZWNobmljaWFuQ2hlY2socm93KSB7CiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBhcnNlVGltZShuZXcgRGF0ZShuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIDMwICogMjQgKiA2MCAqIDYwICogMTAwMCkuc2V0SG91cnMoMCwgMCwgMCwgMCksICd7eX0te219LXtkfSB7aH06e2l9OntzfScpCiAgICAgIGNvbnN0IGVuZFRpbWUgPSBwYXJzZVRpbWUobmV3IERhdGUobmV3IERhdGUoKS5nZXRUaW1lKCkgKyAyNCAqIDYwICogNjAgKiAxMDAwKS5zZXRIb3VycygwLCAwLCAwLCAwKSwgJ3t5fS17bX0te2R9IHtofTp7aX06e3N9JykKICAgICAgY29uc3QgZmlsdGVycyA9IHsKICAgICAgICB5aWRvbmdHcmlkOiByb3dbJ+e9keagvCddLAogICAgICAgIGFjdGl2aXR5aW5zdG5hbWU6ICfoo4Xnu7TmoLjlrp4nLAogICAgICAgIHNlbmRUaW1lOiBbc3RhcnRUaW1lLCBlbmRUaW1lXQogICAgICB9CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY3Jvc3NQYWdlU2VhcmNoL1NFVF9JTklUSUFMX0ZJTFRFUlMnLCBmaWx0ZXJzKQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICcvZmxhdC9pbnN0YWxsYXRpb24vd29yay1vcmRlci1pbnF1aXJ5L3NpdGUtdmVyaWZpY2F0aW9uJyB9KQogICAgfSwKICAgIGFzeW5jIGhhbmRsZURvd25sb2FkKCkgewogICAgICB0aGlzLmRvd25sb2FkTG9hZGluZyA9IHRydWUKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBwYXJhbXMgPSB7fQogICAgICAgIGlmICh0aGlzLmxpc3RRdWVyeS5ncmlkICYmIHRoaXMubGlzdFF1ZXJ5LmdyaWQudHJpbSgpKSB7CiAgICAgICAgICBwYXJhbXMuZ3JpZCA9IHRoaXMubGlzdFF1ZXJ5LmdyaWQudHJpbSgpCiAgICAgICAgfQogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0SW5zdGFsbGF0aW9uR3JpZChwYXJhbXMpCiAgICAgICAgY29uc3QgYWxsRGF0YSA9IHJlc3BvbnNlLmRhdGEKCiAgICAgICAgaWYgKCFhbGxEYXRhIHx8IGFsbERhdGEubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+ayoeacieWPr+WvvOWHuueahOaVsOaNricpCiAgICAgICAgICByZXR1cm4gLy8gRXhpdCBpZiB0aGVyZSdzIG5vIGRhdGEgdG8gZXhwb3J0CiAgICAgICAgfQoKICAgICAgICBpbXBvcnQoJ0AvdmVuZG9yL0V4cG9ydDJFeGNlbCcpLnRoZW4oZXhjZWwgPT4gewogICAgICAgICAgY29uc3QgdEhlYWRlciA9IFsn572R5qC8JywgJ+W9k+aXpeW6lOijhSjntK/orqEpJywgJ+W9k+aXpeWunuijhSjntK/orqEpJywgJ+W9k+aXpeijheacuueOhyjntK/orqEpJywgJ+W9k+aXpeW6lOijhSjmuIXpm7YpJywgJ+W9k+aXpeWunuijhSjmuIXpm7YpJywgJ+W9k+aXpeacquijhSjmuIXpm7YpJywgJ+W9k+aXpeacquijheWNoOavlCjmuIXpm7YpJywgJ+WCrOijheW3peWNlSjmnKrlvZLmoaMpJywgJ+ijhee7tOmAieWdgCcsICfoo4Xnu7TmoLjlrp4nLCAn5b2T5pel5bqU6KOFKOe0r+iuoSktRlRUUicsICflvZPml6Xlrp7oo4Uo57Sv6K6hKS1GVFRSJywgJ+W9k+aXpeijheacuueOhyjntK/orqEpLUZUVFInLCAn5b2T5pel5bqU6KOFKOa4hembtiktRlRUUicsICflvZPml6Xlrp7oo4Uo5riF6Zu2KS1GVFRSJywgJ+W9k+aXpeacquijhSjmuIXpm7YpLUZUVFInLCAn5b2T5pel5pyq6KOF5Y2g5q+UKOa4hembtiktRlRUUicsICflgqzoo4Xlt6XljZUo5pyq5b2S5qGjKS1GVFRSJ10KICAgICAgICAgIGNvbnN0IGZpbHRlclZhbCA9IFsn572R5qC8JywgJ+W9k+aXpeW6lOijhSjntK/orqEpJywgJ+W9k+aXpeWunuijhSjntK/orqEpJywgJ+W9k+aXpeijheacuueOhyjntK/orqEpJywgJ+W9k+aXpeW6lOijhSjmuIXpm7YpJywgJ+W9k+aXpeWunuijhSjmuIXpm7YpJywgJ+W9k+aXpeacquijhSjmuIXpm7YpJywgJ+W9k+aXpeacquijheWNoOavlCjmuIXpm7YpJywgJ+WCrOijheW3peWNlSjmnKrlvZLmoaMpJywgJ+ijhee7tOmAieWdgCcsICfoo4Xnu7TmoLjlrp4nLCAn5b2T5pel5bqU6KOFKOe0r+iuoSktRlRUUicsICflvZPml6Xlrp7oo4Uo57Sv6K6hKS1GVFRSJywgJ+W9k+aXpeijheacuueOhyjntK/orqEpLUZUVFInLCAn5b2T5pel5bqU6KOFKOa4hembtiktRlRUUicsICflvZPml6Xlrp7oo4Uo5riF6Zu2KS1GVFRSJywgJ+W9k+aXpeacquijhSjmuIXpm7YpLUZUVFInLCAn5b2T5pel5pyq6KOF5Y2g5q+UKOa4hembtiktRlRUUicsICflgqzoo4Xlt6XljZUo5pyq5b2S5qGjKS1GVFRSJ10KICAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmZvcm1hdEpzb24oZmlsdGVyVmFsLCBhbGxEYXRhKQogICAgICAgICAgZXhjZWwuZXhwb3J0X2pzb25fdG9fZXhjZWwoewogICAgICAgICAgICBoZWFkZXI6IHRIZWFkZXIsCiAgICAgICAgICAgIGRhdGEsCiAgICAgICAgICAgIGZpbGVuYW1lOiBg5aSn5bGPLee9keagvOeykuW6pi0ke25ldyBEYXRlKCkudG9Mb2NhbGVTdHJpbmcoKX1gLAogICAgICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgICAgIGJvb2tUeXBlOiAneGxzeCcKICAgICAgICAgIH0pCiAgICAgICAgfSkKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCflr7zlh7pFeGNlbOaXtuWPkeeUn+mUmeivrzonLCBlcnJvcikKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCflr7zlh7rlpLHotKXvvIzor7fnqI3lkI7ph43or5UnKQogICAgICB9IGZpbmFsbHkgewogICAgICAgIHRoaXMuZG93bmxvYWRMb2FkaW5nID0gZmFsc2UKICAgICAgfQogICAgfSwKICAgIGZvcm1hdEpzb24oZmlsdGVyVmFsLCBqc29uRGF0YSkgewogICAgICByZXR1cm4ganNvbkRhdGEubWFwKHYgPT4gZmlsdGVyVmFsLm1hcChqID0+IHsKICAgICAgICByZXR1cm4gdltqXQogICAgICB9KSkKICAgIH0KCiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"index.vue","sourceRoot":"src/views/flat/installation/bigScreen/grid","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <!-- 筛选区 -->\n    <div class=\"filter-container\">\n      <el-input\n        v-model=\"listQuery.grid\"\n        placeholder=\"请输入网格名称\"\n        clearable\n        class=\"filter-item\"\n        style=\"width: 160px; margin-right: 8px;\"\n        @keyup.enter.native=\"handleFilter\"\n        @clear=\"handleFilter\"\n      />\n      <el-button class=\"filter-item\" type=\"primary\" icon=\"el-icon-search\" @click=\"handleFilter\">\n        {{ $t('table.search') || '查询' }}\n      </el-button>\n      <el-button :loading=\"downloadLoading\" class=\"filter-item\" type=\"primary\" icon=\"el-icon-document\" @click=\"handleDownload\">\n        导出 Excel\n      </el-button>\n    </div>\n\n    <!-- 表格（只用后端返回的数据，不做本地兜底过滤） -->\n    <el-table\n      v-loading=\"listLoading\"\n      :data=\"list\"\n      element-loading-text=\"Loading\"\n      border\n      fit\n      highlight-current-row\n      style=\"width: 100%;\"\n    >\n      <el-table-column\n        v-for=\"column in columns\"\n        :key=\"column.prop\"\n        v-bind=\"column\"\n        align=\"center\"\n      >\n        <template slot-scope=\"{ row }\">\n          <span\n            v-if=\"column.prop === '当日应装(累计)'\"\n            style=\"cursor: pointer; color: #409EFF;\"\n            @click=\"handleNavigateDangRiYingZhuangLeiJi(row)\"\n          >\n            {{ row[column.prop] }}\n          </span>\n          <span\n            v-else-if=\"column.prop === '当日应装(累计)-FTTR'\"\n            style=\"cursor: pointer; color: #409EFF;\"\n            @click=\"handleNavigateDangRiYingZhuangLeiJiFTTR(row)\"\n          >\n            {{ row[column.prop] }}\n          </span>\n          <span\n            v-else-if=\"column.prop === '当日应装(清零)'\"\n            style=\"cursor: pointer; color: #409EFF;\"\n            @click=\"handleNavigateDangRiYingZhuangQingLing(row)\"\n          >\n            {{ row[column.prop] }}\n          </span>\n          <span\n            v-else-if=\"column.prop === '当日应装(清零)-FTTR'\"\n            style=\"cursor: pointer; color: #409EFF;\"\n            @click=\"handleNavigateDangRiYingZhuangQingLingFTTR(row)\"\n          >\n            {{ row[column.prop] }}\n          </span>\n          <span\n            v-else-if=\"column.prop === '催装工单(未归档)'\"\n            style=\"cursor: pointer; color: #409EFF;\"\n            @click=\"handleNavigateCuiZhuangGongDanWeiGuiDang(row)\"\n          >\n            {{ row[column.prop] }}\n          </span>\n          <span\n            v-else-if=\"column.prop === '催装工单(未归档)-FTTR'\"\n            style=\"cursor: pointer; color: #409EFF;\"\n            @click=\"handleNavigateCuiZhuangGongDanWeiGuiDangFTTR(row)\"\n          >\n            {{ row[column.prop] }}\n          </span>\n          <span\n            v-else-if=\"column.prop === '装维选址'\"\n            style=\"cursor: pointer; color: #409EFF;\"\n            @click=\"handleNavigateTechnicianSite(row)\"\n          >\n            {{ row[column.prop] }}\n          </span>\n          <span\n            v-else-if=\"column.prop === '装维核实'\"\n            style=\"cursor: pointer; color: #409EFF;\"\n            @click=\"handleNavigateTechnicianCheck(row)\"\n          >\n            {{ row[column.prop] }}\n          </span>\n\n          <span v-else>{{ row[column.prop] }}</span>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nimport { getInstallationGrid } from '@/api/flat'\nimport { parseTime } from '@/utils'\n\nconst columnOrder = [\n  '网格',\n  '当日应装(累计)',\n  '当日实装(累计)',\n  '当日装机率(累计)',\n  '当日应装(清零)',\n  '当日实装(清零)',\n  '当日未装(清零)',\n  '当日未装占比(清零)',\n  '催装工单(未归档)',\n  '装维选址',\n  '装维核实',\n  '当日应装(累计)-FTTR',\n  '当日实装(累计)-FTTR',\n  '当日装机率(累计)-FTTR',\n  '当日应装(清零)-FTTR',\n  '当日实装(清零)-FTTR',\n  '当日未装(清零)-FTTR',\n  '当日未装占比(清零)-FTTR',\n  '催装工单(未归档)-FTTR'\n]\n\nconst columnPresets = {\n  '网格': { width: 200, align: 'left', showOverflowTooltip: true },\n  '当日应装(累计)': { width: 90 },\n  '当日实装(累计)': { width: 90 },\n  '当日装机率(累计)': { width: 100 },\n  '当日应装(清零)': { width: 90 },\n  '当日实装(清零)': { width: 90 },\n  '当日未装(清零)': { width: 90 },\n  '当日未装占比(清零)': { width: 110 },\n  '催装工单(未归档)': { width: 90 },\n  '装维选址': { width: 90 },\n  '装维核实': { width: 90 },\n  '当日应装(累计)-FTTR': { width: 120 },\n  '当日实装(累计)-FTTR': { width: 120 },\n  '当日装机率(累计)-FTTR': { width: 140 },\n  '当日应装(清零)-FTTR': { width: 120 },\n  '当日实装(清零)-FTTR': { width: 120 },\n  '当日未装(清零)-FTTR': { width: 120 },\n  '当日未装占比(清零)-FTTR': { width: 150 },\n  '催装工单(未归档)-FTTR': { width: 140 }\n}\n\nexport default {\n  name: 'InstallationGridTable',\n  data() {\n    return {\n      list: [],\n      total: 0, // 若启用分页可用\n      listLoading: false,\n      columns: [],\n      listQuery: {\n        grid: '' // 网格关键词\n      }\n    }\n  },\n  created() {\n    this.fetchData()\n  },\n  methods: {\n    async fetchData() {\n      this.listLoading = true\n      try {\n        // 只走后端筛选：把当前查询条件传给后端\n        const params = {}\n        if (this.listQuery.grid && this.listQuery.grid.trim()) {\n          params.grid = this.listQuery.grid.trim()\n        }\n\n        const resp = await getInstallationGrid(params)\n        const payload = resp && resp.data ? resp.data : []\n\n        // 兼容两种返回：1) { items, total } 2) 数组\n        let rows = []\n        if (Array.isArray(payload?.items)) {\n          rows = payload.items\n          this.total = Number(payload.total || payload.items.length) || 0\n        } else if (Array.isArray(payload)) {\n          rows = payload\n          this.total = rows.length\n        } else {\n          rows = []\n          this.total = 0\n        }\n        this.list = rows\n\n        // 动态列\n        if (!this.list.length) {\n          this.columns = []\n          return\n        }\n        const keySet = new Set()\n        this.list.forEach(row => Object.keys(row || {}).forEach(k => keySet.add(k)))\n        this.columns = columnOrder\n          .filter(key => keySet.has(key))\n          .map(key => ({\n            prop: key,\n            label: key,\n            align: 'center',\n            showOverflowTooltip: true,\n            ...(columnPresets[key] || {})\n          }))\n      } catch (err) {\n        this.$message?.error('获取网格数据失败：' + (err.message || '未知错误'))\n        console.error(err)\n      } finally {\n        this.listLoading = false\n      }\n    },\n    handleFilter() {\n      // 与示例风格一致：重置到第 1 页并发起后端查询\n      this.listQuery.page = 1\n      this.fetchData()\n    },\n    handleNavigateDangRiYingZhuangLeiJi(row) {\n      const startTime = parseTime(new Date().setHours(0, 0, 0, 0), '{y}-{m}-{d} {h}:{i}:{s}')\n      const endTime = parseTime(new Date(new Date().getTime() + 24 * 60 * 60 * 1000).setHours(0, 0, 0, 0), '{y}-{m}-{d} {h}:{i}:{s}')\n      const filters = {\n        grid_name: row['网格'],\n        form_type_custom: 'not_fttr',\n        current_date_custom: [startTime, endTime]\n      }\n      this.$store.commit('crossPageSearch/SET_INITIAL_FILTERS', filters)\n      this.$router.push({ path: '/flat/installation/work-order-inquiry/accumulated' })\n    },\n    handleNavigateDangRiYingZhuangLeiJiFTTR(row) {\n      const startTime = parseTime(new Date().setHours(0, 0, 0, 0), '{y}-{m}-{d} {h}:{i}:{s}')\n      const endTime = parseTime(new Date(new Date().getTime() + 24 * 60 * 60 * 1000).setHours(0, 0, 0, 0), '{y}-{m}-{d} {h}:{i}:{s}')\n      const filters = {\n        grid_name: row['网格'],\n        form_type_custom: 'fttr',\n        current_date_custom: [startTime, endTime]\n      }\n      this.$store.commit('crossPageSearch/SET_INITIAL_FILTERS', filters)\n      this.$router.push({ path: '/flat/installation/work-order-inquiry/accumulated' })\n    },\n    handleNavigateDangRiYingZhuangQingLing(row) {\n      const startTime = parseTime(new Date().setHours(0, 0, 0, 0), '{y}-{m}-{d} {h}:{i}:{s}')\n      const endTime = parseTime(new Date(new Date().getTime() + 24 * 60 * 60 * 1000).setHours(0, 0, 0, 0), '{y}-{m}-{d} {h}:{i}:{s}')\n      const filters = {\n        grid_name: row['网格'],\n        form_type_custom: 'not_fttr',\n        current_date_custom: [startTime, endTime]\n      }\n      this.$store.commit('crossPageSearch/SET_INITIAL_FILTERS', filters)\n      this.$router.push({ path: '/flat/installation/work-order-inquiry/cleared' })\n    },\n    handleNavigateDangRiYingZhuangQingLingFTTR(row) {\n      const startTime = parseTime(new Date().setHours(0, 0, 0, 0), '{y}-{m}-{d} {h}:{i}:{s}')\n      const endTime = parseTime(new Date(new Date().getTime() + 24 * 60 * 60 * 1000).setHours(0, 0, 0, 0), '{y}-{m}-{d} {h}:{i}:{s}')\n      const filters = {\n        grid_name: row['网格'],\n        form_type_custom: 'fttr',\n        current_date_custom: [startTime, endTime]\n      }\n      this.$store.commit('crossPageSearch/SET_INITIAL_FILTERS', filters)\n      this.$router.push({ path: '/flat/installation/work-order-inquiry/cleared' })\n    },\n    handleNavigateCuiZhuangGongDanWeiGuiDang(row) {\n      const startTime = parseTime(new Date().setHours(0, 0, 0, 0), '{y}-{m}-{d} {h}:{i}:{s}')\n      const endTime = parseTime(new Date(new Date().getTime() + 24 * 60 * 60 * 1000).setHours(0, 0, 0, 0), '{y}-{m}-{d} {h}:{i}:{s}')\n      const filters = {\n        yidong_grid: row['网格'],\n        form_type_custom: 'not_fttr',\n        current_date_custom: [startTime, endTime]\n      }\n      this.$store.commit('crossPageSearch/SET_INITIAL_FILTERS', filters)\n      this.$router.push({ path: '/flat/installation/work-order-inquiry/urgent' })\n    },\n    handleNavigateCuiZhuangGongDanWeiGuiDangFTTR(row) {\n      const startTime = parseTime(new Date().setHours(0, 0, 0, 0), '{y}-{m}-{d} {h}:{i}:{s}')\n      const endTime = parseTime(new Date(new Date().getTime() + 24 * 60 * 60 * 1000).setHours(0, 0, 0, 0), '{y}-{m}-{d} {h}:{i}:{s}')\n      const filters = {\n        yidong_grid: row['网格'],\n        form_type_custom: 'fttr',\n        current_date_custom: [startTime, endTime]\n      }\n      this.$store.commit('crossPageSearch/SET_INITIAL_FILTERS', filters)\n      this.$router.push({ path: '/flat/installation/work-order-inquiry/urgent' })\n    },\n    handleNavigateTechnicianSite(row) {\n      const startTime = parseTime(new Date(new Date().getTime() - 30 * 24 * 60 * 60 * 1000).setHours(0, 0, 0, 0), '{y}-{m}-{d} {h}:{i}:{s}')\n      const endTime = parseTime(new Date(new Date().getTime() + 24 * 60 * 60 * 1000).setHours(0, 0, 0, 0), '{y}-{m}-{d} {h}:{i}:{s}')\n      const filters = {\n        yidongGrid: row['网格'],\n        activityinstname: '装维选址',\n        sendTime: [startTime, endTime]\n      }\n      this.$store.commit('crossPageSearch/SET_INITIAL_FILTERS', filters)\n      this.$router.push({ path: '/flat/installation/work-order-inquiry/site-verification' })\n    },\n    handleNavigateTechnicianCheck(row) {\n      const startTime = parseTime(new Date(new Date().getTime() - 30 * 24 * 60 * 60 * 1000).setHours(0, 0, 0, 0), '{y}-{m}-{d} {h}:{i}:{s}')\n      const endTime = parseTime(new Date(new Date().getTime() + 24 * 60 * 60 * 1000).setHours(0, 0, 0, 0), '{y}-{m}-{d} {h}:{i}:{s}')\n      const filters = {\n        yidongGrid: row['网格'],\n        activityinstname: '装维核实',\n        sendTime: [startTime, endTime]\n      }\n      this.$store.commit('crossPageSearch/SET_INITIAL_FILTERS', filters)\n      this.$router.push({ path: '/flat/installation/work-order-inquiry/site-verification' })\n    },\n    async handleDownload() {\n      this.downloadLoading = true\n      try {\n        const params = {}\n        if (this.listQuery.grid && this.listQuery.grid.trim()) {\n          params.grid = this.listQuery.grid.trim()\n        }\n        const response = await getInstallationGrid(params)\n        const allData = response.data\n\n        if (!allData || allData.length === 0) {\n          this.$message.warning('没有可导出的数据')\n          return // Exit if there's no data to export\n        }\n\n        import('@/vendor/Export2Excel').then(excel => {\n          const tHeader = ['网格', '当日应装(累计)', '当日实装(累计)', '当日装机率(累计)', '当日应装(清零)', '当日实装(清零)', '当日未装(清零)', '当日未装占比(清零)', '催装工单(未归档)', '装维选址', '装维核实', '当日应装(累计)-FTTR', '当日实装(累计)-FTTR', '当日装机率(累计)-FTTR', '当日应装(清零)-FTTR', '当日实装(清零)-FTTR', '当日未装(清零)-FTTR', '当日未装占比(清零)-FTTR', '催装工单(未归档)-FTTR']\n          const filterVal = ['网格', '当日应装(累计)', '当日实装(累计)', '当日装机率(累计)', '当日应装(清零)', '当日实装(清零)', '当日未装(清零)', '当日未装占比(清零)', '催装工单(未归档)', '装维选址', '装维核实', '当日应装(累计)-FTTR', '当日实装(累计)-FTTR', '当日装机率(累计)-FTTR', '当日应装(清零)-FTTR', '当日实装(清零)-FTTR', '当日未装(清零)-FTTR', '当日未装占比(清零)-FTTR', '催装工单(未归档)-FTTR']\n          const data = this.formatJson(filterVal, allData)\n          excel.export_json_to_excel({\n            header: tHeader,\n            data,\n            filename: `大屏-网格粒度-${new Date().toLocaleString()}`,\n            autoWidth: true,\n            bookType: 'xlsx'\n          })\n        })\n      } catch (error) {\n        console.error('导出Excel时发生错误:', error)\n        this.$message.error('导出失败，请稍后重试')\n      } finally {\n        this.downloadLoading = false\n      }\n    },\n    formatJson(filterVal, jsonData) {\n      return jsonData.map(v => filterVal.map(j => {\n        return v[j]\n      }))\n    }\n\n  }\n}\n</script>\n"]}]}