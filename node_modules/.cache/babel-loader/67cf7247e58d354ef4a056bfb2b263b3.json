{"remainingRequest":"E:\\shixi\\TechHome-master\\node_modules\\babel-loader\\lib\\index.js!E:\\shixi\\TechHome-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\shixi\\TechHome-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\shixi\\TechHome-master\\src\\components\\Tinymce\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\shixi\\TechHome-master\\src\\components\\Tinymce\\index.vue","mtime":1770455485000},{"path":"E:\\shixi\\TechHome-master\\babel.config.js","mtime":1770455485000},{"path":"E:\\shixi\\TechHome-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1770598777886},{"path":"E:\\shixi\\TechHome-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1770598779870},{"path":"E:\\shixi\\TechHome-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1770598777886},{"path":"E:\\shixi\\TechHome-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1770598780759}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRlc3QuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lc25leHQuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lc25leHQuaXRlcmF0b3IuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qKgogKiBkb2NzOgogKiBodHRwczovL3BhbmppYWNoZW4uZ2l0aHViLmlvL3Z1ZS1lbGVtZW50LWFkbWluLXNpdGUvZmVhdHVyZS9jb21wb25lbnQvcmljaC1lZGl0b3IuaHRtbCN0aW55bWNlCiAqLwppbXBvcnQgZWRpdG9ySW1hZ2UgZnJvbSAnLi9jb21wb25lbnRzL0VkaXRvckltYWdlJzsKaW1wb3J0IHBsdWdpbnMgZnJvbSAnLi9wbHVnaW5zJzsKaW1wb3J0IHRvb2xiYXIgZnJvbSAnLi90b29sYmFyJzsKaW1wb3J0IGxvYWQgZnJvbSAnLi9keW5hbWljTG9hZFNjcmlwdCc7CgovLyB3aHkgdXNlIHRoaXMgY2RuLCBkZXRhaWwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9QYW5KaWFDaGVuL3RpbnltY2UtYWxsLWluLW9uZQp2YXIgdGlueW1jZUNETiA9ICdodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL3RpbnltY2UtYWxsLWluLW9uZUA0LjkuMy90aW55bWNlLm1pbi5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVGlueW1jZScsCiAgY29tcG9uZW50czogewogICAgZWRpdG9ySW1hZ2U6IGVkaXRvckltYWdlCiAgfSwKICBwcm9wczogewogICAgaWQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gJ3Z1ZS10aW55bWNlLScgKyArbmV3IERhdGUoKSArICgoTWF0aC5yYW5kb20oKSAqIDEwMDApLnRvRml4ZWQoMCkgKyAnJyk7CiAgICAgIH0KICAgIH0sCiAgICB2YWx1ZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgdG9vbGJhcjogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICBtZW51YmFyOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2ZpbGUgZWRpdCBpbnNlcnQgdmlldyBmb3JtYXQgdGFibGUnCiAgICB9LAogICAgaGVpZ2h0OiB7CiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogMzYwCiAgICB9LAogICAgd2lkdGg6IHsKICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiAnYXV0bycKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBoYXNDaGFuZ2U6IGZhbHNlLAogICAgICBoYXNJbml0OiBmYWxzZSwKICAgICAgdGlueW1jZUlkOiB0aGlzLmlkLAogICAgICBmdWxsc2NyZWVuOiBmYWxzZSwKICAgICAgbGFuZ3VhZ2VUeXBlTGlzdDogewogICAgICAgICdlbic6ICdlbicsCiAgICAgICAgJ3poJzogJ3poX0NOJywKICAgICAgICAnZXMnOiAnZXNfTVgnLAogICAgICAgICdqYSc6ICdqYScKICAgICAgfQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBsYW5ndWFnZTogZnVuY3Rpb24gbGFuZ3VhZ2UoKSB7CiAgICAgIHJldHVybiB0aGlzLmxhbmd1YWdlVHlwZUxpc3RbdGhpcy4kc3RvcmUuZ2V0dGVycy5sYW5ndWFnZV07CiAgICB9LAogICAgY29udGFpbmVyV2lkdGg6IGZ1bmN0aW9uIGNvbnRhaW5lcldpZHRoKCkgewogICAgICB2YXIgd2lkdGggPSB0aGlzLndpZHRoOwogICAgICBpZiAoL15bXGRdKyhcLltcZF0rKT8kLy50ZXN0KHdpZHRoKSkgewogICAgICAgIC8vIG1hdGNoZXMgYDEwMGAsIGAnMTAwJ2AKICAgICAgICByZXR1cm4gIiIuY29uY2F0KHdpZHRoLCAicHgiKTsKICAgICAgfQogICAgICByZXR1cm4gd2lkdGg7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKHZhbCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgaWYgKCF0aGlzLmhhc0NoYW5nZSAmJiB0aGlzLmhhc0luaXQpIHsKICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gd2luZG93LnRpbnltY2UuZ2V0KF90aGlzMi50aW55bWNlSWQpLnNldENvbnRlbnQodmFsIHx8ICcnKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGxhbmd1YWdlOiBmdW5jdGlvbiBsYW5ndWFnZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHRoaXMuZGVzdHJveVRpbnltY2UoKTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfdGhpczMuaW5pdFRpbnltY2UoKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5pbml0KCk7CiAgfSwKICBhY3RpdmF0ZWQ6IGZ1bmN0aW9uIGFjdGl2YXRlZCgpIHsKICAgIGlmICh3aW5kb3cudGlueW1jZSkgewogICAgICB0aGlzLmluaXRUaW55bWNlKCk7CiAgICB9CiAgfSwKICBkZWFjdGl2YXRlZDogZnVuY3Rpb24gZGVhY3RpdmF0ZWQoKSB7CiAgICB0aGlzLmRlc3Ryb3lUaW55bWNlKCk7CiAgfSwKICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCgpIHsKICAgIHRoaXMuZGVzdHJveVRpbnltY2UoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICAvLyBkeW5hbWljIGxvYWQgdGlueW1jZSBmcm9tIGNkbgogICAgICBsb2FkKHRpbnltY2VDRE4sIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBpZiAoZXJyKSB7CiAgICAgICAgICBfdGhpczQuJG1lc3NhZ2UuZXJyb3IoZXJyLm1lc3NhZ2UpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBfdGhpczQuaW5pdFRpbnltY2UoKTsKICAgICAgfSk7CiAgICB9LAogICAgaW5pdFRpbnltY2U6IGZ1bmN0aW9uIGluaXRUaW55bWNlKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgd2luZG93LnRpbnltY2UuaW5pdCh7CiAgICAgICAgbGFuZ3VhZ2U6IHRoaXMubGFuZ3VhZ2UsCiAgICAgICAgc2VsZWN0b3I6ICIjIi5jb25jYXQodGhpcy50aW55bWNlSWQpLAogICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsCiAgICAgICAgYm9keV9jbGFzczogJ3BhbmVsLWJvZHkgJywKICAgICAgICBvYmplY3RfcmVzaXppbmc6IGZhbHNlLAogICAgICAgIHRvb2xiYXI6IHRoaXMudG9vbGJhci5sZW5ndGggPiAwID8gdGhpcy50b29sYmFyIDogdG9vbGJhciwKICAgICAgICBtZW51YmFyOiB0aGlzLm1lbnViYXIsCiAgICAgICAgcGx1Z2luczogcGx1Z2lucywKICAgICAgICBlbmRfY29udGFpbmVyX29uX2VtcHR5X2Jsb2NrOiB0cnVlLAogICAgICAgIHBvd2VycGFzdGVfd29yZF9pbXBvcnQ6ICdjbGVhbicsCiAgICAgICAgY29kZV9kaWFsb2dfaGVpZ2h0OiA0NTAsCiAgICAgICAgY29kZV9kaWFsb2dfd2lkdGg6IDEwMDAsCiAgICAgICAgYWR2bGlzdF9idWxsZXRfc3R5bGVzOiAnc3F1YXJlJywKICAgICAgICBhZHZsaXN0X251bWJlcl9zdHlsZXM6ICdkZWZhdWx0JywKICAgICAgICBpbWFnZXRvb2xzX2NvcnNfaG9zdHM6IFsnd3d3LnRpbnltY2UuY29tJywgJ2NvZGVwZW4uaW8nXSwKICAgICAgICBkZWZhdWx0X2xpbmtfdGFyZ2V0OiAnX2JsYW5rJywKICAgICAgICBsaW5rX3RpdGxlOiBmYWxzZSwKICAgICAgICBub25icmVha2luZ19mb3JjZV90YWI6IHRydWUsCiAgICAgICAgLy8gaW5zZXJ0aW5nIG5vbmJyZWFraW5nIHNwYWNlICZuYnNwOyBuZWVkIE5vbmJyZWFraW5nIFNwYWNlIFBsdWdpbgogICAgICAgIGluaXRfaW5zdGFuY2VfY2FsbGJhY2s6IGZ1bmN0aW9uIGluaXRfaW5zdGFuY2VfY2FsbGJhY2soZWRpdG9yKSB7CiAgICAgICAgICBpZiAoX3RoaXMudmFsdWUpIHsKICAgICAgICAgICAgZWRpdG9yLnNldENvbnRlbnQoX3RoaXMudmFsdWUpOwogICAgICAgICAgfQogICAgICAgICAgX3RoaXMuaGFzSW5pdCA9IHRydWU7CiAgICAgICAgICBlZGl0b3Iub24oJ05vZGVDaGFuZ2UgQ2hhbmdlIEtleVVwIFNldENvbnRlbnQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzNS5oYXNDaGFuZ2UgPSB0cnVlOwogICAgICAgICAgICBfdGhpczUuJGVtaXQoJ2lucHV0JywgZWRpdG9yLmdldENvbnRlbnQoKSk7CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIHNldHVwOiBmdW5jdGlvbiBzZXR1cChlZGl0b3IpIHsKICAgICAgICAgIGVkaXRvci5vbignRnVsbHNjcmVlblN0YXRlQ2hhbmdlZCcsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIF90aGlzLmZ1bGxzY3JlZW4gPSBlLnN0YXRlOwogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICAvLyBpdCB3aWxsIHRyeSB0byBrZWVwIHRoZXNlIFVSTHMgaW50YWN0CiAgICAgICAgLy8gaHR0cHM6Ly93d3cudGlueS5jbG91ZC9kb2NzLTN4L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL0NvbmZpZ3VyYXRpb24zeEBjb252ZXJ0X3VybHMvCiAgICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTE5NjIwNS9kaXNhYmxlLXRpbnltY2UtYWJzb2x1dGUtdG8tcmVsYXRpdmUtdXJsLWNvbnZlcnNpb25zCiAgICAgICAgY29udmVydF91cmxzOiBmYWxzZQogICAgICAgIC8vIOaVtOWQiOS4g+eJm+S4iuS8oAogICAgICAgIC8vIGltYWdlc19kYXRhaW1nX2ZpbHRlcihpbWcpIHsKICAgICAgICAvLyAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIC8vICAgICBjb25zdCAkaW1hZ2UgPSAkKGltZyk7CiAgICAgICAgLy8gICAgICRpbWFnZS5yZW1vdmVBdHRyKCd3aWR0aCcpOwogICAgICAgIC8vICAgICAkaW1hZ2UucmVtb3ZlQXR0cignaGVpZ2h0Jyk7CiAgICAgICAgLy8gICAgIGlmICgkaW1hZ2VbMF0uaGVpZ2h0ICYmICRpbWFnZVswXS53aWR0aCkgewogICAgICAgIC8vICAgICAgICRpbWFnZS5hdHRyKCdkYXRhLXdzY250eXBlJywgJ2ltYWdlJyk7CiAgICAgICAgLy8gICAgICAgJGltYWdlLmF0dHIoJ2RhdGEtd3NjbmgnLCAkaW1hZ2VbMF0uaGVpZ2h0KTsKICAgICAgICAvLyAgICAgICAkaW1hZ2UuYXR0cignZGF0YS13c2NudycsICRpbWFnZVswXS53aWR0aCk7CiAgICAgICAgLy8gICAgICAgJGltYWdlLmFkZENsYXNzKCd3c2NucGgnKTsKICAgICAgICAvLyAgICAgfQogICAgICAgIC8vICAgfSwgMCk7CiAgICAgICAgLy8gICByZXR1cm4gaW1nCiAgICAgICAgLy8gfSwKICAgICAgICAvLyBpbWFnZXNfdXBsb2FkX2hhbmRsZXIoYmxvYkluZm8sIHN1Y2Nlc3MsIGZhaWx1cmUsIHByb2dyZXNzKSB7CiAgICAgICAgLy8gICBwcm9ncmVzcygwKTsKICAgICAgICAvLyAgIGNvbnN0IHRva2VuID0gX3RoaXMuJHN0b3JlLmdldHRlcnMudG9rZW47CiAgICAgICAgLy8gICBnZXRUb2tlbih0b2tlbikudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgLy8gICAgIGNvbnN0IHVybCA9IHJlc3BvbnNlLmRhdGEucWluaXVfdXJsOwogICAgICAgIC8vICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgIC8vICAgICBmb3JtRGF0YS5hcHBlbmQoJ3Rva2VuJywgcmVzcG9uc2UuZGF0YS5xaW5pdV90b2tlbik7CiAgICAgICAgLy8gICAgIGZvcm1EYXRhLmFwcGVuZCgna2V5JywgcmVzcG9uc2UuZGF0YS5xaW5pdV9rZXkpOwogICAgICAgIC8vICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBibG9iSW5mby5ibG9iKCksIHVybCk7CiAgICAgICAgLy8gICAgIHVwbG9hZChmb3JtRGF0YSkudGhlbigoKSA9PiB7CiAgICAgICAgLy8gICAgICAgc3VjY2Vzcyh1cmwpOwogICAgICAgIC8vICAgICAgIHByb2dyZXNzKDEwMCk7CiAgICAgICAgLy8gICAgIH0pCiAgICAgICAgLy8gICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgIC8vICAgICBmYWlsdXJlKCflh7rnjrDmnKrnn6Xpl67popjvvIzliLfmlrDpobXpnaLvvIzmiJbogIXogZTns7vnqIvluo/lkZgnKQogICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIC8vICAgfSk7CiAgICAgICAgLy8gfSwKICAgICAgfSk7CiAgICB9LAogICAgZGVzdHJveVRpbnltY2U6IGZ1bmN0aW9uIGRlc3Ryb3lUaW55bWNlKCkgewogICAgICB2YXIgdGlueW1jZSA9IHdpbmRvdy50aW55bWNlLmdldCh0aGlzLnRpbnltY2VJZCk7CiAgICAgIGlmICh0aGlzLmZ1bGxzY3JlZW4pIHsKICAgICAgICB0aW55bWNlLmV4ZWNDb21tYW5kKCdtY2VGdWxsU2NyZWVuJyk7CiAgICAgIH0KICAgICAgaWYgKHRpbnltY2UpIHsKICAgICAgICB0aW55bWNlLmRlc3Ryb3koKTsKICAgICAgfQogICAgfSwKICAgIHNldENvbnRlbnQ6IGZ1bmN0aW9uIHNldENvbnRlbnQodmFsdWUpIHsKICAgICAgd2luZG93LnRpbnltY2UuZ2V0KHRoaXMudGlueW1jZUlkKS5zZXRDb250ZW50KHZhbHVlKTsKICAgIH0sCiAgICBnZXRDb250ZW50OiBmdW5jdGlvbiBnZXRDb250ZW50KCkgewogICAgICB3aW5kb3cudGlueW1jZS5nZXQodGhpcy50aW55bWNlSWQpLmdldENvbnRlbnQoKTsKICAgIH0sCiAgICBpbWFnZVN1Y2Nlc3NDQks6IGZ1bmN0aW9uIGltYWdlU3VjY2Vzc0NCSyhhcnIpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CiAgICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuIHdpbmRvdy50aW55bWNlLmdldChfdGhpczYudGlueW1jZUlkKS5pbnNlcnRDb250ZW50KCI8aW1nIGNsYXNzPVwid3NjbnBoXCIgc3JjPVwiIi5jb25jYXQodi51cmwsICJcIiA+IikpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"names":["editorImage","plugins","toolbar","load","tinymceCDN","name","components","props","id","type","String","default","Date","Math","random","toFixed","value","Array","required","menubar","height","Number","width","data","hasChange","hasInit","tinymceId","fullscreen","languageTypeList","computed","language","$store","getters","containerWidth","test","concat","watch","val","_this2","$nextTick","window","tinymce","get","setContent","_this3","destroyTinymce","initTinymce","mounted","init","activated","deactivated","destroyed","methods","_this4","err","$message","error","message","_this5","_this","selector","body_class","object_resizing","length","end_container_on_empty_block","powerpaste_word_import","code_dialog_height","code_dialog_width","advlist_bullet_styles","advlist_number_styles","imagetools_cors_hosts","default_link_target","link_title","nonbreaking_force_tab","init_instance_callback","editor","on","$emit","getContent","setup","e","state","convert_urls","execCommand","destroy","imageSuccessCBK","arr","_this6","forEach","v","insertContent","url"],"sources":["src/components/Tinymce/index.vue"],"sourcesContent":["<template>\n  <div :class=\"{fullscreen:fullscreen}\" class=\"tinymce-container\" :style=\"{width:containerWidth}\">\n    <textarea :id=\"tinymceId\" class=\"tinymce-textarea\" />\n    <div class=\"editor-custom-btn-container\">\n      <editorImage color=\"#1890ff\" class=\"editor-upload-btn\" @successCBK=\"imageSuccessCBK\" />\n    </div>\n  </div>\n</template>\n\n<script>\n/**\n * docs:\n * https://panjiachen.github.io/vue-element-admin-site/feature/component/rich-editor.html#tinymce\n */\nimport editorImage from './components/EditorImage'\nimport plugins from './plugins'\nimport toolbar from './toolbar'\nimport load from './dynamicLoadScript'\n\n// why use this cdn, detail see https://github.com/PanJiaChen/tinymce-all-in-one\nconst tinymceCDN = 'https://cdn.jsdelivr.net/npm/tinymce-all-in-one@4.9.3/tinymce.min.js'\n\nexport default {\n  name: 'Tinymce',\n  components: { editorImage },\n  props: {\n    id: {\n      type: String,\n      default: function() {\n        return 'vue-tinymce-' + +new Date() + ((Math.random() * 1000).toFixed(0) + '')\n      }\n    },\n    value: {\n      type: String,\n      default: ''\n    },\n    toolbar: {\n      type: Array,\n      required: false,\n      default() {\n        return []\n      }\n    },\n    menubar: {\n      type: String,\n      default: 'file edit insert view format table'\n    },\n    height: {\n      type: [Number, String],\n      required: false,\n      default: 360\n    },\n    width: {\n      type: [Number, String],\n      required: false,\n      default: 'auto'\n    }\n  },\n  data() {\n    return {\n      hasChange: false,\n      hasInit: false,\n      tinymceId: this.id,\n      fullscreen: false,\n      languageTypeList: {\n        'en': 'en',\n        'zh': 'zh_CN',\n        'es': 'es_MX',\n        'ja': 'ja'\n      }\n    }\n  },\n  computed: {\n    language() {\n      return this.languageTypeList[this.$store.getters.language]\n    },\n    containerWidth() {\n      const width = this.width\n      if (/^[\\d]+(\\.[\\d]+)?$/.test(width)) { // matches `100`, `'100'`\n        return `${width}px`\n      }\n      return width\n    }\n  },\n  watch: {\n    value(val) {\n      if (!this.hasChange && this.hasInit) {\n        this.$nextTick(() =>\n          window.tinymce.get(this.tinymceId).setContent(val || ''))\n      }\n    },\n    language() {\n      this.destroyTinymce()\n      this.$nextTick(() => this.initTinymce())\n    }\n  },\n  mounted() {\n    this.init()\n  },\n  activated() {\n    if (window.tinymce) {\n      this.initTinymce()\n    }\n  },\n  deactivated() {\n    this.destroyTinymce()\n  },\n  destroyed() {\n    this.destroyTinymce()\n  },\n  methods: {\n    init() {\n      // dynamic load tinymce from cdn\n      load(tinymceCDN, (err) => {\n        if (err) {\n          this.$message.error(err.message)\n          return\n        }\n        this.initTinymce()\n      })\n    },\n    initTinymce() {\n      const _this = this\n      window.tinymce.init({\n        language: this.language,\n        selector: `#${this.tinymceId}`,\n        height: this.height,\n        body_class: 'panel-body ',\n        object_resizing: false,\n        toolbar: this.toolbar.length > 0 ? this.toolbar : toolbar,\n        menubar: this.menubar,\n        plugins: plugins,\n        end_container_on_empty_block: true,\n        powerpaste_word_import: 'clean',\n        code_dialog_height: 450,\n        code_dialog_width: 1000,\n        advlist_bullet_styles: 'square',\n        advlist_number_styles: 'default',\n        imagetools_cors_hosts: ['www.tinymce.com', 'codepen.io'],\n        default_link_target: '_blank',\n        link_title: false,\n        nonbreaking_force_tab: true, // inserting nonbreaking space &nbsp; need Nonbreaking Space Plugin\n        init_instance_callback: editor => {\n          if (_this.value) {\n            editor.setContent(_this.value)\n          }\n          _this.hasInit = true\n          editor.on('NodeChange Change KeyUp SetContent', () => {\n            this.hasChange = true\n            this.$emit('input', editor.getContent())\n          })\n        },\n        setup(editor) {\n          editor.on('FullscreenStateChanged', (e) => {\n            _this.fullscreen = e.state\n          })\n        },\n        // it will try to keep these URLs intact\n        // https://www.tiny.cloud/docs-3x/reference/configuration/Configuration3x@convert_urls/\n        // https://stackoverflow.com/questions/5196205/disable-tinymce-absolute-to-relative-url-conversions\n        convert_urls: false\n        // 整合七牛上传\n        // images_dataimg_filter(img) {\n        //   setTimeout(() => {\n        //     const $image = $(img);\n        //     $image.removeAttr('width');\n        //     $image.removeAttr('height');\n        //     if ($image[0].height && $image[0].width) {\n        //       $image.attr('data-wscntype', 'image');\n        //       $image.attr('data-wscnh', $image[0].height);\n        //       $image.attr('data-wscnw', $image[0].width);\n        //       $image.addClass('wscnph');\n        //     }\n        //   }, 0);\n        //   return img\n        // },\n        // images_upload_handler(blobInfo, success, failure, progress) {\n        //   progress(0);\n        //   const token = _this.$store.getters.token;\n        //   getToken(token).then(response => {\n        //     const url = response.data.qiniu_url;\n        //     const formData = new FormData();\n        //     formData.append('token', response.data.qiniu_token);\n        //     formData.append('key', response.data.qiniu_key);\n        //     formData.append('file', blobInfo.blob(), url);\n        //     upload(formData).then(() => {\n        //       success(url);\n        //       progress(100);\n        //     })\n        //   }).catch(err => {\n        //     failure('出现未知问题，刷新页面，或者联系程序员')\n        //     console.log(err);\n        //   });\n        // },\n      })\n    },\n    destroyTinymce() {\n      const tinymce = window.tinymce.get(this.tinymceId)\n      if (this.fullscreen) {\n        tinymce.execCommand('mceFullScreen')\n      }\n\n      if (tinymce) {\n        tinymce.destroy()\n      }\n    },\n    setContent(value) {\n      window.tinymce.get(this.tinymceId).setContent(value)\n    },\n    getContent() {\n      window.tinymce.get(this.tinymceId).getContent()\n    },\n    imageSuccessCBK(arr) {\n      arr.forEach(v => window.tinymce.get(this.tinymceId).insertContent(`<img class=\"wscnph\" src=\"${v.url}\" >`))\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.tinymce-container {\n  position: relative;\n  line-height: normal;\n}\n\n.tinymce-container {\n  ::v-deep {\n    .mce-fullscreen {\n      z-index: 10000;\n    }\n  }\n}\n\n.tinymce-textarea {\n  visibility: hidden;\n  z-index: -1;\n}\n\n.editor-custom-btn-container {\n  position: absolute;\n  right: 4px;\n  top: 4px;\n  /*z-index: 2005;*/\n}\n\n.fullscreen .editor-custom-btn-container {\n  z-index: 10000;\n  position: fixed;\n}\n\n.editor-upload-btn {\n  display: inline-block;\n}\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;;;AAUA;AACA;AACA;AACA;AACA,OAAAA,WAAA;AACA,OAAAC,OAAA;AACA,OAAAC,OAAA;AACA,OAAAC,IAAA;;AAEA;AACA,IAAAC,UAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IAAAN,WAAA,EAAAA;EAAA;EACAO,KAAA;IACAC,EAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA,WAAAA,SAAA;QACA,6BAAAC,IAAA,OAAAC,IAAA,CAAAC,MAAA,WAAAC,OAAA;MACA;IACA;IACAC,KAAA;MACAP,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;IACAT,OAAA;MACAO,IAAA,EAAAQ,KAAA;MACAC,QAAA;MACAP,OAAA,WAAAA,SAAA;QACA;MACA;IACA;IACAQ,OAAA;MACAV,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;IACAS,MAAA;MACAX,IAAA,GAAAY,MAAA,EAAAX,MAAA;MACAQ,QAAA;MACAP,OAAA;IACA;IACAW,KAAA;MACAb,IAAA,GAAAY,MAAA,EAAAX,MAAA;MACAQ,QAAA;MACAP,OAAA;IACA;EACA;EACAY,IAAA,WAAAA,KAAA;IACA;MACAC,SAAA;MACAC,OAAA;MACAC,SAAA,OAAAlB,EAAA;MACAmB,UAAA;MACAC,gBAAA;QACA;QACA;QACA;QACA;MACA;IACA;EACA;EACAC,QAAA;IACAC,QAAA,WAAAA,SAAA;MACA,YAAAF,gBAAA,MAAAG,MAAA,CAAAC,OAAA,CAAAF,QAAA;IACA;IACAG,cAAA,WAAAA,eAAA;MACA,IAAAX,KAAA,QAAAA,KAAA;MACA,wBAAAY,IAAA,CAAAZ,KAAA;QAAA;QACA,UAAAa,MAAA,CAAAb,KAAA;MACA;MACA,OAAAA,KAAA;IACA;EACA;EACAc,KAAA;IACApB,KAAA,WAAAA,MAAAqB,GAAA;MAAA,IAAAC,MAAA;MACA,UAAAd,SAAA,SAAAC,OAAA;QACA,KAAAc,SAAA;UAAA,OACAC,MAAA,CAAAC,OAAA,CAAAC,GAAA,CAAAJ,MAAA,CAAAZ,SAAA,EAAAiB,UAAA,CAAAN,GAAA;QAAA;MACA;IACA;IACAP,QAAA,WAAAA,SAAA;MAAA,IAAAc,MAAA;MACA,KAAAC,cAAA;MACA,KAAAN,SAAA;QAAA,OAAAK,MAAA,CAAAE,WAAA;MAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,IAAA;EACA;EACAC,SAAA,WAAAA,UAAA;IACA,IAAAT,MAAA,CAAAC,OAAA;MACA,KAAAK,WAAA;IACA;EACA;EACAI,WAAA,WAAAA,YAAA;IACA,KAAAL,cAAA;EACA;EACAM,SAAA,WAAAA,UAAA;IACA,KAAAN,cAAA;EACA;EACAO,OAAA;IACAJ,IAAA,WAAAA,KAAA;MAAA,IAAAK,MAAA;MACA;MACAlD,IAAA,CAAAC,UAAA,YAAAkD,GAAA;QACA,IAAAA,GAAA;UACAD,MAAA,CAAAE,QAAA,CAAAC,KAAA,CAAAF,GAAA,CAAAG,OAAA;UACA;QACA;QACAJ,MAAA,CAAAP,WAAA;MACA;IACA;IACAA,WAAA,WAAAA,YAAA;MAAA,IAAAY,MAAA;MACA,IAAAC,KAAA;MACAnB,MAAA,CAAAC,OAAA,CAAAO,IAAA;QACAlB,QAAA,OAAAA,QAAA;QACA8B,QAAA,MAAAzB,MAAA,MAAAT,SAAA;QACAN,MAAA,OAAAA,MAAA;QACAyC,UAAA;QACAC,eAAA;QACA5D,OAAA,OAAAA,OAAA,CAAA6D,MAAA,YAAA7D,OAAA,GAAAA,OAAA;QACAiB,OAAA,OAAAA,OAAA;QACAlB,OAAA,EAAAA,OAAA;QACA+D,4BAAA;QACAC,sBAAA;QACAC,kBAAA;QACAC,iBAAA;QACAC,qBAAA;QACAC,qBAAA;QACAC,qBAAA;QACAC,mBAAA;QACAC,UAAA;QACAC,qBAAA;QAAA;QACAC,sBAAA,WAAAA,uBAAAC,MAAA;UACA,IAAAhB,KAAA,CAAA3C,KAAA;YACA2D,MAAA,CAAAhC,UAAA,CAAAgB,KAAA,CAAA3C,KAAA;UACA;UACA2C,KAAA,CAAAlC,OAAA;UACAkD,MAAA,CAAAC,EAAA;YACAlB,MAAA,CAAAlC,SAAA;YACAkC,MAAA,CAAAmB,KAAA,UAAAF,MAAA,CAAAG,UAAA;UACA;QACA;QACAC,KAAA,WAAAA,MAAAJ,MAAA;UACAA,MAAA,CAAAC,EAAA,qCAAAI,CAAA;YACArB,KAAA,CAAAhC,UAAA,GAAAqD,CAAA,CAAAC,KAAA;UACA;QACA;QACA;QACA;QACA;QACAC,YAAA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;IACA;IACArC,cAAA,WAAAA,eAAA;MACA,IAAAJ,OAAA,GAAAD,MAAA,CAAAC,OAAA,CAAAC,GAAA,MAAAhB,SAAA;MACA,SAAAC,UAAA;QACAc,OAAA,CAAA0C,WAAA;MACA;MAEA,IAAA1C,OAAA;QACAA,OAAA,CAAA2C,OAAA;MACA;IACA;IACAzC,UAAA,WAAAA,WAAA3B,KAAA;MACAwB,MAAA,CAAAC,OAAA,CAAAC,GAAA,MAAAhB,SAAA,EAAAiB,UAAA,CAAA3B,KAAA;IACA;IACA8D,UAAA,WAAAA,WAAA;MACAtC,MAAA,CAAAC,OAAA,CAAAC,GAAA,MAAAhB,SAAA,EAAAoD,UAAA;IACA;IACAO,eAAA,WAAAA,gBAAAC,GAAA;MAAA,IAAAC,MAAA;MACAD,GAAA,CAAAE,OAAA,WAAAC,CAAA;QAAA,OAAAjD,MAAA,CAAAC,OAAA,CAAAC,GAAA,CAAA6C,MAAA,CAAA7D,SAAA,EAAAgE,aAAA,gCAAAvD,MAAA,CAAAsD,CAAA,CAAAE,GAAA;MAAA;IACA;EACA;AACA","ignoreList":[]}]}