{"remainingRequest":"E:\\shixi\\TechHome-master\\node_modules\\babel-loader\\lib\\index.js!E:\\shixi\\TechHome-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\shixi\\TechHome-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\shixi\\TechHome-master\\src\\components\\Dropzone\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\shixi\\TechHome-master\\src\\components\\Dropzone\\index.vue","mtime":1770455485000},{"path":"E:\\shixi\\TechHome-master\\babel.config.js","mtime":1770455485000},{"path":"E:\\shixi\\TechHome-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1770598777886},{"path":"E:\\shixi\\TechHome-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1770598779870},{"path":"E:\\shixi\\TechHome-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1770598777886},{"path":"E:\\shixi\\TechHome-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1770598780759}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5pdGVyYXRvci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5pdGVyYXRvci5tYXAuanMiOwovLwovLwovLwovLwovLwovLwoKaW1wb3J0IERyb3B6b25lIGZyb20gJ2Ryb3B6b25lJzsKaW1wb3J0ICdkcm9wem9uZS9kaXN0L2Ryb3B6b25lLmNzcyc7Ci8vIGltcG9ydCB7IGdldFRva2VuIH0gZnJvbSAnYXBpL3Fpbml1JzsKCkRyb3B6b25lLmF1dG9EaXNjb3ZlciA9IGZhbHNlOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIGlkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICB1cmw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGNsaWNrYWJsZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgZGVmYXVsdE1zZzogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICfkuIrkvKDlm77niYcnCiAgICB9LAogICAgYWNjZXB0ZWRGaWxlczogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgdGh1bWJuYWlsSGVpZ2h0OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMjAwCiAgICB9LAogICAgdGh1bWJuYWlsV2lkdGg6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAyMDAKICAgIH0sCiAgICBzaG93UmVtb3ZlTGluazogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgbWF4RmlsZXNpemU6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAyCiAgICB9LAogICAgbWF4RmlsZXM6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAzCiAgICB9LAogICAgYXV0b1Byb2Nlc3NRdWV1ZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgdXNlQ3VzdG9tRHJvcHpvbmVPcHRpb25zOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgZGVmYXVsdEltZzogewogICAgICBkZWZhdWx0OiAnJywKICAgICAgdHlwZTogW1N0cmluZywgQXJyYXldCiAgICB9LAogICAgY291bGRQYXN0ZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRyb3B6b25lOiAnJywKICAgICAgaW5pdE9uY2U6IHRydWUKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgZGVmYXVsdEltZzogZnVuY3Rpb24gZGVmYXVsdEltZyh2YWwpIHsKICAgICAgaWYgKHZhbC5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLmluaXRPbmNlID0gZmFsc2U7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlmICghdGhpcy5pbml0T25jZSkgcmV0dXJuOwogICAgICB0aGlzLmluaXRJbWFnZXModmFsKTsKICAgICAgdGhpcy5pbml0T25jZSA9IGZhbHNlOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZCk7CiAgICB2YXIgdm0gPSB0aGlzOwogICAgdGhpcy5kcm9wem9uZSA9IG5ldyBEcm9wem9uZShlbGVtZW50LCB7CiAgICAgIGNsaWNrYWJsZTogdGhpcy5jbGlja2FibGUsCiAgICAgIHRodW1ibmFpbFdpZHRoOiB0aGlzLnRodW1ibmFpbFdpZHRoLAogICAgICB0aHVtYm5haWxIZWlnaHQ6IHRoaXMudGh1bWJuYWlsSGVpZ2h0LAogICAgICBtYXhGaWxlczogdGhpcy5tYXhGaWxlcywKICAgICAgbWF4RmlsZXNpemU6IHRoaXMubWF4RmlsZXNpemUsCiAgICAgIGRpY3RSZW1vdmVGaWxlOiAnUmVtb3ZlJywKICAgICAgYWRkUmVtb3ZlTGlua3M6IHRoaXMuc2hvd1JlbW92ZUxpbmssCiAgICAgIGFjY2VwdGVkRmlsZXM6IHRoaXMuYWNjZXB0ZWRGaWxlcywKICAgICAgYXV0b1Byb2Nlc3NRdWV1ZTogdGhpcy5hdXRvUHJvY2Vzc1F1ZXVlLAogICAgICBkaWN0RGVmYXVsdE1lc3NhZ2U6ICc8aSBzdHlsZT0ibWFyZ2luLXRvcDogM2VtO2Rpc3BsYXk6IGlubGluZS1ibG9jayIgY2xhc3M9Im1hdGVyaWFsLWljb25zIj4nICsgdGhpcy5kZWZhdWx0TXNnICsgJzwvaT48YnI+RHJvcCBmaWxlcyBoZXJlIHRvIHVwbG9hZCcsCiAgICAgIGRpY3RNYXhGaWxlc0V4Y2VlZGVkOiAn5Y+q6IO95LiA5Liq5Zu+JywKICAgICAgcHJldmlld1RlbXBsYXRlOiAnPGRpdiBjbGFzcz0iZHotcHJldmlldyBkei1maWxlLXByZXZpZXciPiAgPGRpdiBjbGFzcz0iZHotaW1hZ2UiIHN0eWxlPSJ3aWR0aDonICsgdGhpcy50aHVtYm5haWxXaWR0aCArICdweDtoZWlnaHQ6JyArIHRoaXMudGh1bWJuYWlsSGVpZ2h0ICsgJ3B4IiA+PGltZyBzdHlsZT0id2lkdGg6JyArIHRoaXMudGh1bWJuYWlsV2lkdGggKyAncHg7aGVpZ2h0OicgKyB0aGlzLnRodW1ibmFpbEhlaWdodCArICdweCIgZGF0YS1kei10aHVtYm5haWwgLz48L2Rpdj4gIDxkaXYgY2xhc3M9ImR6LWRldGFpbHMiPjxkaXYgY2xhc3M9ImR6LXNpemUiPjxzcGFuIGRhdGEtZHotc2l6ZT48L3NwYW4+PC9kaXY+IDxkaXYgY2xhc3M9ImR6LXByb2dyZXNzIj48c3BhbiBjbGFzcz0iZHotdXBsb2FkIiBkYXRhLWR6LXVwbG9hZHByb2dyZXNzPjwvc3Bhbj48L2Rpdj4gIDxkaXYgY2xhc3M9ImR6LWVycm9yLW1lc3NhZ2UiPjxzcGFuIGRhdGEtZHotZXJyb3JtZXNzYWdlPjwvc3Bhbj48L2Rpdj4gIDxkaXYgY2xhc3M9ImR6LXN1Y2Nlc3MtbWFyayI+IDxpIGNsYXNzPSJtYXRlcmlhbC1pY29ucyI+ZG9uZTwvaT4gPC9kaXY+ICA8ZGl2IGNsYXNzPSJkei1lcnJvci1tYXJrIj48aSBjbGFzcz0ibWF0ZXJpYWwtaWNvbnMiPmVycm9yPC9pPjwvZGl2PjwvZGl2PicsCiAgICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgICB2YXIgdmFsID0gdm0uZGVmYXVsdEltZzsKICAgICAgICBpZiAoIXZhbCkgcmV0dXJuOwogICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHsKICAgICAgICAgIGlmICh2YWwubGVuZ3RoID09PSAwKSByZXR1cm47CiAgICAgICAgICB2YWwubWFwKGZ1bmN0aW9uICh2LCBpKSB7CiAgICAgICAgICAgIHZhciBtb2NrRmlsZSA9IHsKICAgICAgICAgICAgICBuYW1lOiAnbmFtZScgKyBpLAogICAgICAgICAgICAgIHNpemU6IDEyMzQ1LAogICAgICAgICAgICAgIHVybDogdgogICAgICAgICAgICB9OwogICAgICAgICAgICBfdGhpcy5vcHRpb25zLmFkZGVkZmlsZS5jYWxsKF90aGlzLCBtb2NrRmlsZSk7CiAgICAgICAgICAgIF90aGlzLm9wdGlvbnMudGh1bWJuYWlsLmNhbGwoX3RoaXMsIG1vY2tGaWxlLCB2KTsKICAgICAgICAgICAgbW9ja0ZpbGUucHJldmlld0VsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZHotc3VjY2VzcycpOwogICAgICAgICAgICBtb2NrRmlsZS5wcmV2aWV3RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdkei1jb21wbGV0ZScpOwogICAgICAgICAgICB2bS5pbml0T25jZSA9IGZhbHNlOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgbW9ja0ZpbGUgPSB7CiAgICAgICAgICAgIG5hbWU6ICduYW1lJywKICAgICAgICAgICAgc2l6ZTogMTIzNDUsCiAgICAgICAgICAgIHVybDogdmFsCiAgICAgICAgICB9OwogICAgICAgICAgdGhpcy5vcHRpb25zLmFkZGVkZmlsZS5jYWxsKHRoaXMsIG1vY2tGaWxlKTsKICAgICAgICAgIHRoaXMub3B0aW9ucy50aHVtYm5haWwuY2FsbCh0aGlzLCBtb2NrRmlsZSwgdmFsKTsKICAgICAgICAgIG1vY2tGaWxlLnByZXZpZXdFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2R6LXN1Y2Nlc3MnKTsKICAgICAgICAgIG1vY2tGaWxlLnByZXZpZXdFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2R6LWNvbXBsZXRlJyk7CiAgICAgICAgICB2bS5pbml0T25jZSA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSwKICAgICAgYWNjZXB0OiBmdW5jdGlvbiBhY2NlcHQoZmlsZSwgZG9uZSkgewogICAgICAgIC8qIOS4g+eJmyovCiAgICAgICAgLy8gY29uc3QgdG9rZW4gPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLnRva2VuOwogICAgICAgIC8vIGdldFRva2VuKHRva2VuKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAvLyAgIGZpbGUudG9rZW4gPSByZXNwb25zZS5kYXRhLnFpbml1X3Rva2VuOwogICAgICAgIC8vICAgZmlsZS5rZXkgPSByZXNwb25zZS5kYXRhLnFpbml1X2tleTsKICAgICAgICAvLyAgIGZpbGUudXJsID0gcmVzcG9uc2UuZGF0YS5xaW5pdV91cmw7CiAgICAgICAgLy8gICBkb25lKCk7CiAgICAgICAgLy8gfSkKICAgICAgICBkb25lKCk7CiAgICAgIH0sCiAgICAgIHNlbmRpbmc6IGZ1bmN0aW9uIHNlbmRpbmcoZmlsZSwgeGhyLCBmb3JtRGF0YSkgewogICAgICAgIC8vIGZvcm1EYXRhLmFwcGVuZCgndG9rZW4nLCBmaWxlLnRva2VuKTsKICAgICAgICAvLyBmb3JtRGF0YS5hcHBlbmQoJ2tleScsIGZpbGUua2V5KTsKICAgICAgICB2bS5pbml0T25jZSA9IGZhbHNlOwogICAgICB9CiAgICB9KTsKICAgIGlmICh0aGlzLmNvdWxkUGFzdGUpIHsKICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncGFzdGUnLCB0aGlzLnBhc3RlSW1nKTsKICAgIH0KICAgIHRoaXMuZHJvcHpvbmUub24oJ3N1Y2Nlc3MnLCBmdW5jdGlvbiAoZmlsZSkgewogICAgICB2bS4kZW1pdCgnZHJvcHpvbmUtc3VjY2VzcycsIGZpbGUsIHZtLmRyb3B6b25lLmVsZW1lbnQpOwogICAgfSk7CiAgICB0aGlzLmRyb3B6b25lLm9uKCdhZGRlZGZpbGUnLCBmdW5jdGlvbiAoZmlsZSkgewogICAgICB2bS4kZW1pdCgnZHJvcHpvbmUtZmlsZUFkZGVkJywgZmlsZSk7CiAgICB9KTsKICAgIHRoaXMuZHJvcHpvbmUub24oJ3JlbW92ZWRmaWxlJywgZnVuY3Rpb24gKGZpbGUpIHsKICAgICAgdm0uJGVtaXQoJ2Ryb3B6b25lLXJlbW92ZWRGaWxlJywgZmlsZSk7CiAgICB9KTsKICAgIHRoaXMuZHJvcHpvbmUub24oJ2Vycm9yJywgZnVuY3Rpb24gKGZpbGUsIGVycm9yLCB4aHIpIHsKICAgICAgdm0uJGVtaXQoJ2Ryb3B6b25lLWVycm9yJywgZmlsZSwgZXJyb3IsIHhocik7CiAgICB9KTsKICAgIHRoaXMuZHJvcHpvbmUub24oJ3N1Y2Nlc3NtdWx0aXBsZScsIGZ1bmN0aW9uIChmaWxlLCBlcnJvciwgeGhyKSB7CiAgICAgIHZtLiRlbWl0KCdkcm9wem9uZS1zdWNjZXNzbXVsdGlwbGUnLCBmaWxlLCBlcnJvciwgeGhyKTsKICAgIH0pOwogIH0sCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7CiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwYXN0ZScsIHRoaXMucGFzdGVJbWcpOwogICAgdGhpcy5kcm9wem9uZS5kZXN0cm95KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICByZW1vdmVBbGxGaWxlczogZnVuY3Rpb24gcmVtb3ZlQWxsRmlsZXMoKSB7CiAgICAgIHRoaXMuZHJvcHpvbmUucmVtb3ZlQWxsRmlsZXModHJ1ZSk7CiAgICB9LAogICAgcHJvY2Vzc1F1ZXVlOiBmdW5jdGlvbiBwcm9jZXNzUXVldWUoKSB7CiAgICAgIHRoaXMuZHJvcHpvbmUucHJvY2Vzc1F1ZXVlKCk7CiAgICB9LAogICAgcGFzdGVJbWc6IGZ1bmN0aW9uIHBhc3RlSW1nKGV2ZW50KSB7CiAgICAgIHZhciBpdGVtcyA9IChldmVudC5jbGlwYm9hcmREYXRhIHx8IGV2ZW50Lm9yaWdpbmFsRXZlbnQuY2xpcGJvYXJkRGF0YSkuaXRlbXM7CiAgICAgIGlmIChpdGVtc1swXS5raW5kID09PSAnZmlsZScpIHsKICAgICAgICB0aGlzLmRyb3B6b25lLmFkZEZpbGUoaXRlbXNbMF0uZ2V0QXNGaWxlKCkpOwogICAgICB9CiAgICB9LAogICAgaW5pdEltYWdlczogZnVuY3Rpb24gaW5pdEltYWdlcyh2YWwpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIGlmICghdmFsKSByZXR1cm47CiAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHsKICAgICAgICB2YWwubWFwKGZ1bmN0aW9uICh2LCBpKSB7CiAgICAgICAgICB2YXIgbW9ja0ZpbGUgPSB7CiAgICAgICAgICAgIG5hbWU6ICduYW1lJyArIGksCiAgICAgICAgICAgIHNpemU6IDEyMzQ1LAogICAgICAgICAgICB1cmw6IHYKICAgICAgICAgIH07CiAgICAgICAgICBfdGhpczIuZHJvcHpvbmUub3B0aW9ucy5hZGRlZGZpbGUuY2FsbChfdGhpczIuZHJvcHpvbmUsIG1vY2tGaWxlKTsKICAgICAgICAgIF90aGlzMi5kcm9wem9uZS5vcHRpb25zLnRodW1ibmFpbC5jYWxsKF90aGlzMi5kcm9wem9uZSwgbW9ja0ZpbGUsIHYpOwogICAgICAgICAgbW9ja0ZpbGUucHJldmlld0VsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZHotc3VjY2VzcycpOwogICAgICAgICAgbW9ja0ZpbGUucHJldmlld0VsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZHotY29tcGxldGUnKTsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBtb2NrRmlsZSA9IHsKICAgICAgICAgIG5hbWU6ICduYW1lJywKICAgICAgICAgIHNpemU6IDEyMzQ1LAogICAgICAgICAgdXJsOiB2YWwKICAgICAgICB9OwogICAgICAgIHRoaXMuZHJvcHpvbmUub3B0aW9ucy5hZGRlZGZpbGUuY2FsbCh0aGlzLmRyb3B6b25lLCBtb2NrRmlsZSk7CiAgICAgICAgdGhpcy5kcm9wem9uZS5vcHRpb25zLnRodW1ibmFpbC5jYWxsKHRoaXMuZHJvcHpvbmUsIG1vY2tGaWxlLCB2YWwpOwogICAgICAgIG1vY2tGaWxlLnByZXZpZXdFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2R6LXN1Y2Nlc3MnKTsKICAgICAgICBtb2NrRmlsZS5wcmV2aWV3RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdkei1jb21wbGV0ZScpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["Dropzone","autoDiscover","props","id","type","String","required","url","clickable","Boolean","default","defaultMsg","acceptedFiles","thumbnailHeight","Number","thumbnailWidth","showRemoveLink","maxFilesize","maxFiles","autoProcessQueue","useCustomDropzoneOptions","defaultImg","Array","couldPaste","data","dropzone","initOnce","watch","val","length","initImages","mounted","element","document","getElementById","vm","dictRemoveFile","addRemoveLinks","dictDefaultMessage","dictMaxFilesExceeded","previewTemplate","init","_this","isArray","map","v","i","mockFile","name","size","options","addedfile","call","thumbnail","previewElement","classList","add","accept","file","done","sending","xhr","formData","addEventListener","pasteImg","on","$emit","error","destroyed","removeEventListener","destroy","methods","removeAllFiles","processQueue","event","items","clipboardData","originalEvent","kind","addFile","getAsFile","_this2"],"sources":["src/components/Dropzone/index.vue"],"sourcesContent":["<template>\n  <div :id=\"id\" :ref=\"id\" :action=\"url\" class=\"dropzone\">\n    <input type=\"file\" name=\"file\">\n  </div>\n</template>\n\n<script>\nimport Dropzone from 'dropzone'\nimport 'dropzone/dist/dropzone.css'\n// import { getToken } from 'api/qiniu';\n\nDropzone.autoDiscover = false\n\nexport default {\n  props: {\n    id: {\n      type: String,\n      required: true\n    },\n    url: {\n      type: String,\n      required: true\n    },\n    clickable: {\n      type: Boolean,\n      default: true\n    },\n    defaultMsg: {\n      type: String,\n      default: '上传图片'\n    },\n    acceptedFiles: {\n      type: String,\n      default: ''\n    },\n    thumbnailHeight: {\n      type: Number,\n      default: 200\n    },\n    thumbnailWidth: {\n      type: Number,\n      default: 200\n    },\n    showRemoveLink: {\n      type: Boolean,\n      default: true\n    },\n    maxFilesize: {\n      type: Number,\n      default: 2\n    },\n    maxFiles: {\n      type: Number,\n      default: 3\n    },\n    autoProcessQueue: {\n      type: Boolean,\n      default: true\n    },\n    useCustomDropzoneOptions: {\n      type: Boolean,\n      default: false\n    },\n    defaultImg: {\n      default: '',\n      type: [String, Array]\n    },\n    couldPaste: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      dropzone: '',\n      initOnce: true\n    }\n  },\n  watch: {\n    defaultImg(val) {\n      if (val.length === 0) {\n        this.initOnce = false\n        return\n      }\n      if (!this.initOnce) return\n      this.initImages(val)\n      this.initOnce = false\n    }\n  },\n  mounted() {\n    const element = document.getElementById(this.id)\n    const vm = this\n    this.dropzone = new Dropzone(element, {\n      clickable: this.clickable,\n      thumbnailWidth: this.thumbnailWidth,\n      thumbnailHeight: this.thumbnailHeight,\n      maxFiles: this.maxFiles,\n      maxFilesize: this.maxFilesize,\n      dictRemoveFile: 'Remove',\n      addRemoveLinks: this.showRemoveLink,\n      acceptedFiles: this.acceptedFiles,\n      autoProcessQueue: this.autoProcessQueue,\n      dictDefaultMessage: '<i style=\"margin-top: 3em;display: inline-block\" class=\"material-icons\">' + this.defaultMsg + '</i><br>Drop files here to upload',\n      dictMaxFilesExceeded: '只能一个图',\n      previewTemplate: '<div class=\"dz-preview dz-file-preview\">  <div class=\"dz-image\" style=\"width:' + this.thumbnailWidth + 'px;height:' + this.thumbnailHeight + 'px\" ><img style=\"width:' + this.thumbnailWidth + 'px;height:' + this.thumbnailHeight + 'px\" data-dz-thumbnail /></div>  <div class=\"dz-details\"><div class=\"dz-size\"><span data-dz-size></span></div> <div class=\"dz-progress\"><span class=\"dz-upload\" data-dz-uploadprogress></span></div>  <div class=\"dz-error-message\"><span data-dz-errormessage></span></div>  <div class=\"dz-success-mark\"> <i class=\"material-icons\">done</i> </div>  <div class=\"dz-error-mark\"><i class=\"material-icons\">error</i></div></div>',\n      init() {\n        const val = vm.defaultImg\n        if (!val) return\n        if (Array.isArray(val)) {\n          if (val.length === 0) return\n          val.map((v, i) => {\n            const mockFile = { name: 'name' + i, size: 12345, url: v }\n            this.options.addedfile.call(this, mockFile)\n            this.options.thumbnail.call(this, mockFile, v)\n            mockFile.previewElement.classList.add('dz-success')\n            mockFile.previewElement.classList.add('dz-complete')\n            vm.initOnce = false\n            return true\n          })\n        } else {\n          const mockFile = { name: 'name', size: 12345, url: val }\n          this.options.addedfile.call(this, mockFile)\n          this.options.thumbnail.call(this, mockFile, val)\n          mockFile.previewElement.classList.add('dz-success')\n          mockFile.previewElement.classList.add('dz-complete')\n          vm.initOnce = false\n        }\n      },\n      accept: (file, done) => {\n        /* 七牛*/\n        // const token = this.$store.getters.token;\n        // getToken(token).then(response => {\n        //   file.token = response.data.qiniu_token;\n        //   file.key = response.data.qiniu_key;\n        //   file.url = response.data.qiniu_url;\n        //   done();\n        // })\n        done()\n      },\n      sending: (file, xhr, formData) => {\n        // formData.append('token', file.token);\n        // formData.append('key', file.key);\n        vm.initOnce = false\n      }\n    })\n\n    if (this.couldPaste) {\n      document.addEventListener('paste', this.pasteImg)\n    }\n\n    this.dropzone.on('success', file => {\n      vm.$emit('dropzone-success', file, vm.dropzone.element)\n    })\n    this.dropzone.on('addedfile', file => {\n      vm.$emit('dropzone-fileAdded', file)\n    })\n    this.dropzone.on('removedfile', file => {\n      vm.$emit('dropzone-removedFile', file)\n    })\n    this.dropzone.on('error', (file, error, xhr) => {\n      vm.$emit('dropzone-error', file, error, xhr)\n    })\n    this.dropzone.on('successmultiple', (file, error, xhr) => {\n      vm.$emit('dropzone-successmultiple', file, error, xhr)\n    })\n  },\n  destroyed() {\n    document.removeEventListener('paste', this.pasteImg)\n    this.dropzone.destroy()\n  },\n  methods: {\n    removeAllFiles() {\n      this.dropzone.removeAllFiles(true)\n    },\n    processQueue() {\n      this.dropzone.processQueue()\n    },\n    pasteImg(event) {\n      const items = (event.clipboardData || event.originalEvent.clipboardData).items\n      if (items[0].kind === 'file') {\n        this.dropzone.addFile(items[0].getAsFile())\n      }\n    },\n    initImages(val) {\n      if (!val) return\n      if (Array.isArray(val)) {\n        val.map((v, i) => {\n          const mockFile = { name: 'name' + i, size: 12345, url: v }\n          this.dropzone.options.addedfile.call(this.dropzone, mockFile)\n          this.dropzone.options.thumbnail.call(this.dropzone, mockFile, v)\n          mockFile.previewElement.classList.add('dz-success')\n          mockFile.previewElement.classList.add('dz-complete')\n          return true\n        })\n      } else {\n        const mockFile = { name: 'name', size: 12345, url: val }\n        this.dropzone.options.addedfile.call(this.dropzone, mockFile)\n        this.dropzone.options.thumbnail.call(this.dropzone, mockFile, val)\n        mockFile.previewElement.classList.add('dz-success')\n        mockFile.previewElement.classList.add('dz-complete')\n      }\n    }\n\n  }\n}\n</script>\n\n<style scoped>\n    .dropzone {\n        border: 2px solid #E5E5E5;\n        font-family: 'Roboto', sans-serif;\n        color: #777;\n        transition: background-color .2s linear;\n        padding: 5px;\n    }\n\n    .dropzone:hover {\n        background-color: #F6F6F6;\n    }\n\n    i {\n        color: #CCC;\n    }\n\n    .dropzone .dz-image img {\n        width: 100%;\n        height: 100%;\n    }\n\n    .dropzone input[name='file'] {\n        display: none;\n    }\n\n    .dropzone .dz-preview .dz-image {\n        border-radius: 0px;\n    }\n\n    .dropzone .dz-preview:hover .dz-image img {\n        transform: none;\n        filter: none;\n        width: 100%;\n        height: 100%;\n    }\n\n    .dropzone .dz-preview .dz-details {\n        bottom: 0px;\n        top: 0px;\n        color: white;\n        background-color: rgba(33, 150, 243, 0.8);\n        transition: opacity .2s linear;\n        text-align: left;\n    }\n\n    .dropzone .dz-preview .dz-details .dz-filename span, .dropzone .dz-preview .dz-details .dz-size span {\n        background-color: transparent;\n    }\n\n    .dropzone .dz-preview .dz-details .dz-filename:not(:hover) span {\n        border: none;\n    }\n\n    .dropzone .dz-preview .dz-details .dz-filename:hover span {\n        background-color: transparent;\n        border: none;\n    }\n\n    .dropzone .dz-preview .dz-remove {\n        position: absolute;\n        z-index: 30;\n        color: white;\n        margin-left: 15px;\n        padding: 10px;\n        top: inherit;\n        bottom: 15px;\n        border: 2px white solid;\n        text-decoration: none;\n        text-transform: uppercase;\n        font-size: 0.8rem;\n        font-weight: 800;\n        letter-spacing: 1.1px;\n        opacity: 0;\n    }\n\n    .dropzone .dz-preview:hover .dz-remove {\n        opacity: 1;\n    }\n\n    .dropzone .dz-preview .dz-success-mark, .dropzone .dz-preview .dz-error-mark {\n        margin-left: -40px;\n        margin-top: -50px;\n    }\n\n    .dropzone .dz-preview .dz-success-mark i, .dropzone .dz-preview .dz-error-mark i {\n        color: white;\n        font-size: 5rem;\n    }\n</style>\n"],"mappings":"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","ignoreList":[]}]}