{"remainingRequest":"E:\\shixi\\TechHome-master\\node_modules\\babel-loader\\lib\\index.js!E:\\shixi\\TechHome-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\shixi\\TechHome-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\shixi\\TechHome-master\\src\\views\\example\\components\\ArticleDetail.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\shixi\\TechHome-master\\src\\views\\example\\components\\ArticleDetail.vue","mtime":1770455485000},{"path":"E:\\shixi\\TechHome-master\\babel.config.js","mtime":1770455485000},{"path":"E:\\shixi\\TechHome-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1770598777886},{"path":"E:\\shixi\\TechHome-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1770598779870},{"path":"E:\\shixi\\TechHome-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1770598777886},{"path":"E:\\shixi\\TechHome-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1770598780759}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lc25leHQuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lc25leHQuaXRlcmF0b3IubWFwLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUaW55bWNlIGZyb20gJ0AvY29tcG9uZW50cy9UaW55bWNlJzsKaW1wb3J0IFVwbG9hZCBmcm9tICdAL2NvbXBvbmVudHMvVXBsb2FkL1NpbmdsZUltYWdlMyc7CmltcG9ydCBNRGlucHV0IGZyb20gJ0AvY29tcG9uZW50cy9NRGlucHV0JzsKaW1wb3J0IFN0aWNreSBmcm9tICdAL2NvbXBvbmVudHMvU3RpY2t5JzsgLy8g57KY5oCnaGVhZGVy57uE5Lu2CmltcG9ydCB7IHZhbGlkVVJMIH0gZnJvbSAnQC91dGlscy92YWxpZGF0ZSc7CmltcG9ydCB7IGZldGNoQXJ0aWNsZSB9IGZyb20gJ0AvYXBpL2FydGljbGUnOwppbXBvcnQgeyBzZWFyY2hVc2VyIH0gZnJvbSAnQC9hcGkvcmVtb3RlLXNlYXJjaCc7CmltcG9ydCBXYXJuaW5nIGZyb20gJy4vV2FybmluZyc7CmltcG9ydCB7IENvbW1lbnREcm9wZG93biwgUGxhdGZvcm1Ecm9wZG93biwgU291cmNlVXJsRHJvcGRvd24gfSBmcm9tICcuL0Ryb3Bkb3duJzsKdmFyIGRlZmF1bHRGb3JtID0gewogIHN0YXR1czogJ2RyYWZ0JywKICB0aXRsZTogJycsCiAgLy8g5paH56ug6aKY55uuCiAgY29udGVudDogJycsCiAgLy8g5paH56ug5YaF5a65CiAgY29udGVudF9zaG9ydDogJycsCiAgLy8g5paH56ug5pGY6KaBCiAgc291cmNlX3VyaTogJycsCiAgLy8g5paH56ug5aSW6ZO+CiAgaW1hZ2VfdXJpOiAnJywKICAvLyDmlofnq6Dlm77niYcKICBkaXNwbGF5X3RpbWU6IHVuZGVmaW5lZCwKICAvLyDliY3lj7DlsZXnpLrml7bpl7QKICBpZDogdW5kZWZpbmVkLAogIHBsYXRmb3JtczogWydhLXBsYXRmb3JtJ10sCiAgY29tbWVudF9kaXNhYmxlZDogZmFsc2UsCiAgaW1wb3J0YW5jZTogMAp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FydGljbGVEZXRhaWwnLAogIGNvbXBvbmVudHM6IHsKICAgIFRpbnltY2U6IFRpbnltY2UsCiAgICBNRGlucHV0OiBNRGlucHV0LAogICAgVXBsb2FkOiBVcGxvYWQsCiAgICBTdGlja3k6IFN0aWNreSwKICAgIFdhcm5pbmc6IFdhcm5pbmcsCiAgICBDb21tZW50RHJvcGRvd246IENvbW1lbnREcm9wZG93biwKICAgIFBsYXRmb3JtRHJvcGRvd246IFBsYXRmb3JtRHJvcGRvd24sCiAgICBTb3VyY2VVcmxEcm9wZG93bjogU291cmNlVXJsRHJvcGRvd24KICB9LAogIHByb3BzOiB7CiAgICBpc0VkaXQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgdmFyIHZhbGlkYXRlUmVxdWlyZSA9IGZ1bmN0aW9uIHZhbGlkYXRlUmVxdWlyZShydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsKICAgICAgaWYgKHZhbHVlID09PSAnJykgewogICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6IHJ1bGUuZmllbGQgKyAn5Li65b+F5Lyg6aG5JywKICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICB9KTsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IocnVsZS5maWVsZCArICfkuLrlv4XkvKDpobknKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKICAgIHZhciB2YWxpZGF0ZVNvdXJjZVVyaSA9IGZ1bmN0aW9uIHZhbGlkYXRlU291cmNlVXJpKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBpZiAodmFsdWUpIHsKICAgICAgICBpZiAodmFsaWRVUkwodmFsdWUpKSB7CiAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICflpJbpk751cmzloavlhpnkuI3mraPnoa4nLAogICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICB9KTsKICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign5aSW6ZO+dXJs5aGr5YaZ5LiN5q2j56GuJykpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OwogICAgcmV0dXJuIHsKICAgICAgcG9zdEZvcm06IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRGb3JtKSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIHVzZXJMaXN0T3B0aW9uczogW10sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgaW1hZ2VfdXJpOiBbewogICAgICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0ZVJlcXVpcmUKICAgICAgICB9XSwKICAgICAgICB0aXRsZTogW3sKICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVSZXF1aXJlCiAgICAgICAgfV0sCiAgICAgICAgY29udGVudDogW3sKICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVSZXF1aXJlCiAgICAgICAgfV0sCiAgICAgICAgc291cmNlX3VyaTogW3sKICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVTb3VyY2VVcmksCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9LAogICAgICB0ZW1wUm91dGU6IHt9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNvbnRlbnRTaG9ydExlbmd0aDogZnVuY3Rpb24gY29udGVudFNob3J0TGVuZ3RoKCkgewogICAgICByZXR1cm4gdGhpcy5wb3N0Rm9ybS5jb250ZW50X3Nob3J0Lmxlbmd0aDsKICAgIH0sCiAgICBsYW5nOiBmdW5jdGlvbiBsYW5nKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5sYW5ndWFnZTsKICAgIH0sCiAgICBkaXNwbGF5VGltZTogewogICAgICAvLyBzZXQgYW5kIGdldCBpcyB1c2VmdWwgd2hlbiB0aGUgZGF0YQogICAgICAvLyByZXR1cm5lZCBieSB0aGUgYmFjayBlbmQgYXBpIGlzIGRpZmZlcmVudCBmcm9tIHRoZSBmcm9udCBlbmQKICAgICAgLy8gYmFjayBlbmQgcmV0dXJuID0+ICIyMDEzLTA2LTI1IDA2OjU5OjI1IgogICAgICAvLyBmcm9udCBlbmQgbmVlZCB0aW1lc3RhbXAgPT4gMTM3MjExNDc2NTAwMAogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gK25ldyBEYXRlKHRoaXMucG9zdEZvcm0uZGlzcGxheV90aW1lKTsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsKSB7CiAgICAgICAgdGhpcy5wb3N0Rm9ybS5kaXNwbGF5X3RpbWUgPSBuZXcgRGF0ZSh2YWwpOwogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgaWYgKHRoaXMuaXNFZGl0KSB7CiAgICAgIHZhciBpZCA9IHRoaXMuJHJvdXRlLnBhcmFtcyAmJiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICAgIHRoaXMuZmV0Y2hEYXRhKGlkKTsKICAgIH0KCiAgICAvLyBXaHkgbmVlZCB0byBtYWtlIGEgY29weSBvZiB0aGlzLiRyb3V0ZSBoZXJlPwogICAgLy8gQmVjYXVzZSBpZiB5b3UgZW50ZXIgdGhpcyBwYWdlIGFuZCBxdWlja2x5IHN3aXRjaCB0YWcsIG1heSBiZSBpbiB0aGUgZXhlY3V0aW9uIG9mIHRoZSBzZXRUYWdzVmlld1RpdGxlIGZ1bmN0aW9uLCB0aGlzLiRyb3V0ZSBpcyBubyBsb25nZXIgcG9pbnRpbmcgdG8gdGhlIGN1cnJlbnQgcGFnZQogICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL1BhbkppYUNoZW4vdnVlLWVsZW1lbnQtYWRtaW4vaXNzdWVzLzEyMjEKICAgIHRoaXMudGVtcFJvdXRlID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy4kcm91dGUpOwogIH0sCiAgbWV0aG9kczogewogICAgZmV0Y2hEYXRhOiBmdW5jdGlvbiBmZXRjaERhdGEoaWQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIGZldGNoQXJ0aWNsZShpZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczIucG9zdEZvcm0gPSByZXNwb25zZS5kYXRhOwoKICAgICAgICAvLyBqdXN0IGZvciB0ZXN0CiAgICAgICAgX3RoaXMyLnBvc3RGb3JtLnRpdGxlICs9ICIgICBBcnRpY2xlIElkOiIuY29uY2F0KF90aGlzMi5wb3N0Rm9ybS5pZCk7CiAgICAgICAgX3RoaXMyLnBvc3RGb3JtLmNvbnRlbnRfc2hvcnQgKz0gIiAgIEFydGljbGUgSWQ6Ii5jb25jYXQoX3RoaXMyLnBvc3RGb3JtLmlkKTsKCiAgICAgICAgLy8gc2V0IHRhZ3N2aWV3IHRpdGxlCiAgICAgICAgX3RoaXMyLnNldFRhZ3NWaWV3VGl0bGUoKTsKCiAgICAgICAgLy8gc2V0IHBhZ2UgdGl0bGUKICAgICAgICBfdGhpczIuc2V0UGFnZVRpdGxlKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICBzZXRUYWdzVmlld1RpdGxlOiBmdW5jdGlvbiBzZXRUYWdzVmlld1RpdGxlKCkgewogICAgICB2YXIgdGl0bGUgPSB0aGlzLmxhbmcgPT09ICd6aCcgPyAn57yW6L6R5paH56ugJyA6ICdFZGl0IEFydGljbGUnOwogICAgICB2YXIgcm91dGUgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnRlbXBSb3V0ZSwgewogICAgICAgIHRpdGxlOiAiIi5jb25jYXQodGl0bGUsICItIikuY29uY2F0KHRoaXMucG9zdEZvcm0uaWQpCiAgICAgIH0pOwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgndGFnc1ZpZXcvdXBkYXRlVmlzaXRlZFZpZXcnLCByb3V0ZSk7CiAgICB9LAogICAgc2V0UGFnZVRpdGxlOiBmdW5jdGlvbiBzZXRQYWdlVGl0bGUoKSB7CiAgICAgIHZhciB0aXRsZSA9ICdFZGl0IEFydGljbGUnOwogICAgICBkb2N1bWVudC50aXRsZSA9ICIiLmNvbmNhdCh0aXRsZSwgIiAtICIpLmNvbmNhdCh0aGlzLnBvc3RGb3JtLmlkKTsKICAgIH0sCiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgY29uc29sZS5sb2codGhpcy5wb3N0Rm9ybSk7CiAgICAgIHRoaXMuJHJlZnMucG9zdEZvcm0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBfdGhpczMubG9hZGluZyA9IHRydWU7CiAgICAgICAgICBfdGhpczMuJG5vdGlmeSh7CiAgICAgICAgICAgIHRpdGxlOiAn5oiQ5YqfJywKICAgICAgICAgICAgbWVzc2FnZTogJ+WPkeW4g+aWh+eroOaIkOWKnycsCiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgZHVyYXRpb246IDIwMDAKICAgICAgICAgIH0pOwogICAgICAgICAgX3RoaXMzLnBvc3RGb3JtLnN0YXR1cyA9ICdwdWJsaXNoZWQnOwogICAgICAgICAgX3RoaXMzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yIHN1Ym1pdCEhJyk7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBkcmFmdEZvcm06IGZ1bmN0aW9uIGRyYWZ0Rm9ybSgpIHsKICAgICAgaWYgKHRoaXMucG9zdEZvcm0uY29udGVudC5sZW5ndGggPT09IDAgfHwgdGhpcy5wb3N0Rm9ybS50aXRsZS5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6ICfor7floavlhpnlv4XopoHnmoTmoIfpopjlkozlhoXlrrknLAogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgIG1lc3NhZ2U6ICfkv53lrZjmiJDlip8nLAogICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgZHVyYXRpb246IDEwMDAKICAgICAgfSk7CiAgICAgIHRoaXMucG9zdEZvcm0uc3RhdHVzID0gJ2RyYWZ0JzsKICAgIH0sCiAgICBnZXRSZW1vdGVVc2VyTGlzdDogZnVuY3Rpb24gZ2V0UmVtb3RlVXNlckxpc3QocXVlcnkpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIHNlYXJjaFVzZXIocXVlcnkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKCFyZXNwb25zZS5kYXRhLml0ZW1zKSByZXR1cm47CiAgICAgICAgX3RoaXM0LnVzZXJMaXN0T3B0aW9ucyA9IHJlc3BvbnNlLmRhdGEuaXRlbXMubWFwKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICByZXR1cm4gdi5uYW1lOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"names":["Tinymce","Upload","MDinput","Sticky","validURL","fetchArticle","searchUser","Warning","CommentDropdown","PlatformDropdown","SourceUrlDropdown","defaultForm","status","title","content","content_short","source_uri","image_uri","display_time","undefined","id","platforms","comment_disabled","importance","name","components","props","isEdit","type","Boolean","default","data","_this","validateRequire","rule","value","callback","$message","message","field","Error","validateSourceUri","postForm","Object","assign","loading","userListOptions","rules","validator","trigger","tempRoute","computed","contentShortLength","length","lang","$store","getters","language","displayTime","get","Date","set","val","created","$route","params","fetchData","methods","_this2","then","response","concat","setTagsViewTitle","setPageTitle","catch","err","console","log","route","dispatch","document","submitForm","_this3","$refs","validate","valid","$notify","duration","draftForm","showClose","getRemoteUserList","query","_this4","items","map","v"],"sources":["src/views/example/components/ArticleDetail.vue"],"sourcesContent":["<template>\n  <div class=\"createPost-container\">\n    <el-form ref=\"postForm\" :model=\"postForm\" :rules=\"rules\" class=\"form-container\">\n      <sticky :z-index=\"10\" :class-name=\"'sub-navbar '+postForm.status\">\n        <CommentDropdown v-model=\"postForm.comment_disabled\" />\n        <PlatformDropdown v-model=\"postForm.platforms\" />\n        <SourceUrlDropdown v-model=\"postForm.source_uri\" />\n        <el-button v-loading=\"loading\" style=\"margin-left: 10px;\" type=\"success\" @click=\"submitForm\">\n          Publish\n        </el-button>\n        <el-button v-loading=\"loading\" type=\"warning\" @click=\"draftForm\">\n          Draft\n        </el-button>\n      </sticky>\n\n      <div class=\"createPost-main-container\">\n        <el-row>\n          <Warning />\n\n          <el-col :span=\"24\">\n            <el-form-item style=\"margin-bottom: 40px;\" prop=\"title\">\n              <MDinput v-model=\"postForm.title\" :maxlength=\"100\" name=\"name\" required>\n                Title\n              </MDinput>\n            </el-form-item>\n\n            <div class=\"postInfo-container\">\n              <el-row>\n                <el-col :span=\"8\">\n                  <el-form-item label-width=\"60px\" label=\"Author:\" class=\"postInfo-container-item\">\n                    <el-select v-model=\"postForm.author\" :remote-method=\"getRemoteUserList\" filterable default-first-option remote placeholder=\"Search user\">\n                      <el-option v-for=\"(item,index) in userListOptions\" :key=\"item+index\" :label=\"item\" :value=\"item\" />\n                    </el-select>\n                  </el-form-item>\n                </el-col>\n\n                <el-col :span=\"10\">\n                  <el-form-item label-width=\"120px\" label=\"Publish Time:\" class=\"postInfo-container-item\">\n                    <el-date-picker v-model=\"displayTime\" type=\"datetime\" format=\"yyyy-MM-dd HH:mm:ss\" placeholder=\"Select date and time\" />\n                  </el-form-item>\n                </el-col>\n\n                <el-col :span=\"6\">\n                  <el-form-item label-width=\"90px\" label=\"Importance:\" class=\"postInfo-container-item\">\n                    <el-rate\n                      v-model=\"postForm.importance\"\n                      :max=\"3\"\n                      :colors=\"['#99A9BF', '#F7BA2A', '#FF9900']\"\n                      :low-threshold=\"1\"\n                      :high-threshold=\"3\"\n                      style=\"display:inline-block\"\n                    />\n                  </el-form-item>\n                </el-col>\n              </el-row>\n            </div>\n          </el-col>\n        </el-row>\n\n        <el-form-item style=\"margin-bottom: 40px;\" label-width=\"70px\" label=\"Summary:\">\n          <el-input v-model=\"postForm.content_short\" :rows=\"1\" type=\"textarea\" class=\"article-textarea\" autosize placeholder=\"Please enter the content\" />\n          <span v-show=\"contentShortLength\" class=\"word-counter\">{{ contentShortLength }}words</span>\n        </el-form-item>\n\n        <el-form-item prop=\"content\" style=\"margin-bottom: 30px;\">\n          <Tinymce ref=\"editor\" v-model=\"postForm.content\" :height=\"400\" />\n        </el-form-item>\n\n        <el-form-item prop=\"image_uri\" style=\"margin-bottom: 30px;\">\n          <Upload v-model=\"postForm.image_uri\" />\n        </el-form-item>\n      </div>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport Tinymce from '@/components/Tinymce'\nimport Upload from '@/components/Upload/SingleImage3'\nimport MDinput from '@/components/MDinput'\nimport Sticky from '@/components/Sticky' // 粘性header组件\nimport { validURL } from '@/utils/validate'\nimport { fetchArticle } from '@/api/article'\nimport { searchUser } from '@/api/remote-search'\nimport Warning from './Warning'\nimport { CommentDropdown, PlatformDropdown, SourceUrlDropdown } from './Dropdown'\n\nconst defaultForm = {\n  status: 'draft',\n  title: '', // 文章题目\n  content: '', // 文章内容\n  content_short: '', // 文章摘要\n  source_uri: '', // 文章外链\n  image_uri: '', // 文章图片\n  display_time: undefined, // 前台展示时间\n  id: undefined,\n  platforms: ['a-platform'],\n  comment_disabled: false,\n  importance: 0\n}\n\nexport default {\n  name: 'ArticleDetail',\n  components: { Tinymce, MDinput, Upload, Sticky, Warning, CommentDropdown, PlatformDropdown, SourceUrlDropdown },\n  props: {\n    isEdit: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    const validateRequire = (rule, value, callback) => {\n      if (value === '') {\n        this.$message({\n          message: rule.field + '为必传项',\n          type: 'error'\n        })\n        callback(new Error(rule.field + '为必传项'))\n      } else {\n        callback()\n      }\n    }\n    const validateSourceUri = (rule, value, callback) => {\n      if (value) {\n        if (validURL(value)) {\n          callback()\n        } else {\n          this.$message({\n            message: '外链url填写不正确',\n            type: 'error'\n          })\n          callback(new Error('外链url填写不正确'))\n        }\n      } else {\n        callback()\n      }\n    }\n    return {\n      postForm: Object.assign({}, defaultForm),\n      loading: false,\n      userListOptions: [],\n      rules: {\n        image_uri: [{ validator: validateRequire }],\n        title: [{ validator: validateRequire }],\n        content: [{ validator: validateRequire }],\n        source_uri: [{ validator: validateSourceUri, trigger: 'blur' }]\n      },\n      tempRoute: {}\n    }\n  },\n  computed: {\n    contentShortLength() {\n      return this.postForm.content_short.length\n    },\n    lang() {\n      return this.$store.getters.language\n    },\n    displayTime: {\n      // set and get is useful when the data\n      // returned by the back end api is different from the front end\n      // back end return => \"2013-06-25 06:59:25\"\n      // front end need timestamp => 1372114765000\n      get() {\n        return (+new Date(this.postForm.display_time))\n      },\n      set(val) {\n        this.postForm.display_time = new Date(val)\n      }\n    }\n  },\n  created() {\n    if (this.isEdit) {\n      const id = this.$route.params && this.$route.params.id\n      this.fetchData(id)\n    }\n\n    // Why need to make a copy of this.$route here?\n    // Because if you enter this page and quickly switch tag, may be in the execution of the setTagsViewTitle function, this.$route is no longer pointing to the current page\n    // https://github.com/PanJiaChen/vue-element-admin/issues/1221\n    this.tempRoute = Object.assign({}, this.$route)\n  },\n  methods: {\n    fetchData(id) {\n      fetchArticle(id).then(response => {\n        this.postForm = response.data\n\n        // just for test\n        this.postForm.title += `   Article Id:${this.postForm.id}`\n        this.postForm.content_short += `   Article Id:${this.postForm.id}`\n\n        // set tagsview title\n        this.setTagsViewTitle()\n\n        // set page title\n        this.setPageTitle()\n      }).catch(err => {\n        console.log(err)\n      })\n    },\n    setTagsViewTitle() {\n      const title = this.lang === 'zh' ? '编辑文章' : 'Edit Article'\n      const route = Object.assign({}, this.tempRoute, { title: `${title}-${this.postForm.id}` })\n      this.$store.dispatch('tagsView/updateVisitedView', route)\n    },\n    setPageTitle() {\n      const title = 'Edit Article'\n      document.title = `${title} - ${this.postForm.id}`\n    },\n    submitForm() {\n      console.log(this.postForm)\n      this.$refs.postForm.validate(valid => {\n        if (valid) {\n          this.loading = true\n          this.$notify({\n            title: '成功',\n            message: '发布文章成功',\n            type: 'success',\n            duration: 2000\n          })\n          this.postForm.status = 'published'\n          this.loading = false\n        } else {\n          console.log('error submit!!')\n          return false\n        }\n      })\n    },\n    draftForm() {\n      if (this.postForm.content.length === 0 || this.postForm.title.length === 0) {\n        this.$message({\n          message: '请填写必要的标题和内容',\n          type: 'warning'\n        })\n        return\n      }\n      this.$message({\n        message: '保存成功',\n        type: 'success',\n        showClose: true,\n        duration: 1000\n      })\n      this.postForm.status = 'draft'\n    },\n    getRemoteUserList(query) {\n      searchUser(query).then(response => {\n        if (!response.data.items) return\n        this.userListOptions = response.data.items.map(v => v.name)\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"~@/styles/mixin.scss\";\n\n.createPost-container {\n  position: relative;\n\n  .createPost-main-container {\n    padding: 40px 45px 20px 50px;\n\n    .postInfo-container {\n      position: relative;\n      @include clearfix;\n      margin-bottom: 10px;\n\n      .postInfo-container-item {\n        float: left;\n      }\n    }\n  }\n\n  .word-counter {\n    width: 40px;\n    position: absolute;\n    right: 10px;\n    top: 0px;\n  }\n}\n\n.article-textarea ::v-deep {\n  textarea {\n    padding-right: 40px;\n    resize: none;\n    border: none;\n    border-radius: 0px;\n    border-bottom: 1px solid #bfcbd9;\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]}]}